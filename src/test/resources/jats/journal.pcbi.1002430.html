



<div class="abstract toc-section"><a id="abstract0" name="abstract0" data-toc="abstract0" class="link-target" title="Abstract"></a><h2>Abstract</h2><a id="article1.front1.article-meta1.abstract1.p1" name="article1.front1.article-meta1.abstract1.p1" class="link-target"></a><p>Division of labor has been studied separately from a proximate self-organization and an ultimate evolutionary perspective. We aim to bring together these two perspectives. So far this has been done by choosing a behavioral mechanism <em>a priori</em> and considering the evolution of the properties of this mechanism. Here we use artificial neural networks to allow for a more open architecture. We study whether emergent division of labor can evolve in two different network architectures; a simple feedforward network, and a more complex network that includes the possibility of self-feedback from previous experiences. We focus on two aspects of division of labor; worker specialization and the ratio of work performed for each task. Colony fitness is maximized by both reducing idleness and achieving a predefined optimal work ratio. Our results indicate that architectural constraints play an important role for the outcome of evolution. With the simplest network, only genetically determined specialization is possible. This imposes several limitations on worker specialization. Moreover, in order to minimize idleness, networks evolve a biased work ratio, even when an unbiased work ratio would be optimal. By adding self-feedback to the network we increase the network's flexibility and worker specialization evolves under a wider parameter range. Optimal work ratios are more easily achieved with the self-feedback network, but still provide a challenge when combined with worker specialization.</p>
</div><div class="abstract toc-section"><a id="abstract1" name="abstract1" class="link-target" data-toc="abstract1" title="Author Summary"></a>
<h2>Author Summary</h2>
<a id="article1.front1.article-meta1.abstract2.p1" name="article1.front1.article-meta1.abstract2.p1" class="link-target"></a><p>In insect colonies, different individuals specialize in different tasks related to colony maintenance and growth. Unveiling why this division of labor evolved and how individuals decide which task to take on is crucial for our understanding of complex group behavior. Here we model the evolution of general behavioral rules for processing environmental signals of task need in social insect colonies, using artificial neural networks. We examine the patterns of individual specialization that arise in the course of evolution. Division of labor is likely to evolve if switching between tasks decreases worker productivity, but the pattern of division of labor across colonies is highly dependent on the architecture of the networks considered. In networks that allow for a feedback of previous experience on future task choice, division of labor can evolve across the whole population of colonies. In networks where this feedback is not allowed, the presence of division of labor is constrained by the specific genetic composition of colonies. Network architecture also affects how fine-tuned the worker allocation to different tasks can be when the tasks have different requirements.</p>
</div>


<div class="articleinfo"><p><strong>Citation: </strong>Duarte A, Scholtens E, Weissing FJ (2012) Implications of Behavioral Architecture for the Evolution of Self-Organized Division of Labor. PLoS Comput Biol 8(3):
           e1002430.
        
        https://doi.org/10.1371/journal.pcbi.1002430</p><p><strong>Editor: </strong>Olaf Sporns, Indiana University, United States of America</p><p><strong>Received: </strong>August 30, 2011; <strong>Accepted: </strong>February 1, 2012; <strong>Published: </strong> March 22, 2012</p><p><strong>Copyright: </strong> © 2012 Duarte et al. This is an open-access article distributed under the terms of the Creative Commons Attribution License, which permits unrestricted use, distribution, and reproduction in any medium, provided the original author and source are credited.</p><p><strong>Funding: </strong>A. Duarte was supported by a Ubbo Emmius PhD scholarship, attributed by the Centre for Ecological and Evolutionary Studies, University of Groningen. The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</p><p><strong>Competing interests: </strong> The authors have declared that no competing interests exist.</p></div>





<div id="section1" class="section toc-section"><a id="s1" name="s1" data-toc="s1" class="link-target" title="Introduction"></a><h2>Introduction</h2><a id="article1.body1.sec1.p1" name="article1.body1.sec1.p1" class="link-target"></a><p>Division of labor is ubiquitous in nature. The major evolutionary transitions, such as the separation of germ and soma and the transition from prokaryotes to eukaryotes, were accompanied by an increase in division of labor <a href="#pcbi.1002430-Szathmry1" class="ref-tip">[1]</a>. The transition from solitary to eusocial in insects encompasses the evolution of a reproductive caste and a sterile worker caste. Furthermore, division of labor among sterile workers also evolved, in which different groups of workers specialize in different functions, such as foraging and brood care <a href="#pcbi.1002430-Oster1" class="ref-tip">[2]</a>. Colony growth and survival is strongly dependent on the coordinated interaction of a large number of workers. This non-reproductive division of labor is therefore often considered a major determinant of the ecological success of eusocial insects and will be the focus of the work presented here.</p>
<a id="article1.body1.sec1.p2" name="article1.body1.sec1.p2" class="link-target"></a><p>Empirical evidence suggests that eusociality has evolved in associations of close kin <a href="#pcbi.1002430-Boomsma1" class="ref-tip">[3]</a>, <a href="#pcbi.1002430-Boomsma2" class="ref-tip">[4]</a>. Variation in behavioral tendencies can be found in forced associations of non-social individuals, leading to incipient forms of division of labor <a href="#pcbi.1002430-Fewell1" class="ref-tip">[5]</a>, <a href="#pcbi.1002430-Jeanson1" class="ref-tip">[6]</a>. Undoubtedly, a source of variation is key to generating consistent inter-individual differences and task specialization <a href="#pcbi.1002430-Duarte1" class="ref-tip">[7]</a>. The questions that arise are how and why such variation arises among close kin. Here we explore some of the mechanisms and conditions through which task specialization can evolve in groups of related individuals.</p>
<a id="article1.body1.sec1.p3" name="article1.body1.sec1.p3" class="link-target"></a><p>Recent work on division of labor in insect societies has focused on the self-organization properties of colony behavior. According to a variety of models <a href="#pcbi.1002430-Bonabeau1" class="ref-tip">[8]</a>–<a href="#pcbi.1002430-Johnson1" class="ref-tip">[12]</a> colony properties emerge from the behavior of individual workers whose reactions to the environment is governed by simple rules. The behavioral rules leading to emergent specialization are probably shaped by natural selection <a href="#pcbi.1002430-Page1" class="ref-tip">[10]</a>, <a href="#pcbi.1002430-Bonabeau2" class="ref-tip">[13]</a>, yet only few studies have focused on the evolution of these rules <a href="#pcbi.1002430-Tarapore1" class="ref-tip">[14]</a>, <a href="#pcbi.1002430-Waibel1" class="ref-tip">[15]</a>. Previous work focusing on the benefits of task specialization in other systems (e.g. enzyme-substrate specialization, coordination in co-viruses) generally disregard the mechanisms underlying it, viewing instead specialists and generalists as fixed behavioral strategies <a href="#pcbi.1002430-Tannenbaum1" class="ref-tip">[16]</a>, <a href="#pcbi.1002430-Wahl1" class="ref-tip">[17]</a>. It is thus important to develop models that integrate the evolutionary and self-organization perspective, in order to create a better understanding of division of labor and its evolution <a href="#pcbi.1002430-Duarte1" class="ref-tip">[7]</a>.</p>
<a id="article1.body1.sec1.p4" name="article1.body1.sec1.p4" class="link-target"></a><p>In previous work, we took the response threshold model <a href="#pcbi.1002430-Szathmry1" class="ref-tip">[1]</a> as a starting point for an evolutionary model for division of labor (A. Duarte, I. Pen, L. Keller and F.J. Weissing, submitted). In the response threshold model, individuals compare an environmental stimulus for a task with their response thresholds; they perform the task if the stimulus is above their threshold, otherwise they remain idle. Using this predefined behavioral architecture, we allowed the evolution of threshold values and showed that division of labor can evolve from a homogeneous population via evolutionary branching, but only if there are clear fitness benefits of individual specialization. Our work also revealed that the response threshold model has the drawback that it imposes severe constraints on the distribution of workers over tasks.</p>
<a id="article1.body1.sec1.p5" name="article1.body1.sec1.p5" class="link-target"></a><p>Here we look at a more flexible behavioral architecture that is represented by a simple artificial neural network (ANN). ANNs simulate the processing of stimuli by individuals, from stimulus perception by receptor nodes to effector nodes determining the behavioral output <a href="#pcbi.1002430-Ghirlanda1" class="ref-tip">[18]</a>, <a href="#pcbi.1002430-Haykin1" class="ref-tip">[19]</a>. ANNs have been used in evolutionary robotics to understand the evolution of communication and cooperation <a href="#pcbi.1002430-Floreano1" class="ref-tip">[20]</a>–<a href="#pcbi.1002430-Mitri2" class="ref-tip">[22]</a>. In a recent paper, Lichocki et al. showed that ANN's, in comparison to response threshold mechanisms, allow for more efficient worker allocation through task switching <a href="#pcbi.1002430-Lichocki1" class="ref-tip">[23]</a>. Here we examine the effect of the architecture of ANN's in worker specialization and worker allocation, in a context where task switching is detrimental.</p>
<a id="article1.body1.sec1.p6" name="article1.body1.sec1.p6" class="link-target"></a><p>In the response threshold model, the response to task-associated stimuli is determined by task-associated thresholds. The stimuli, which reflect the colony's need for work on the various tasks, change dynamically due to two factors: there is an inherent tendency for the stimuli to increase, and they are decreased whenever the corresponding task is performed. We keep most assumptions of the threshold model but allow the task-associated stimuli to be processed by an ANN. In principle both the architecture of the network and the way information is processed could evolve <a href="#pcbi.1002430-Yao1" class="ref-tip">[24]</a>, <a href="#pcbi.1002430-Fogel1" class="ref-tip">[25]</a>, however, we for simplicity, we focus on predefined architectures (with a fixed number of receptor and effector nodes) and allow only for the evolution of connections between the nodes. The stimuli are processed by an ANN consisting of two receptor nodes and two effector nodes (<a href="#pcbi-1002430-g001">Figure 1</a>). In a second part of our study, we keep the same network structure but allow for the evolution of a feedback from the effector nodes to the processing of the stimuli (<a href="#pcbi-1002430-g001">Figure 1C</a>). In other words, an effect of previous experience on current decisions can evolve. An effect of previous experience on task preference, leading to division of labor, has been observed in natural colonies <a href="#pcbi.1002430-Ravary1" class="ref-tip">[26]</a>, thus it would be interesting to observe under which circumstances it could evolve.</p>
<a class="link-target" id="pcbi-1002430-g001" name="pcbi-1002430-g001"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g001"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g001" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g001"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g001" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g001">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g001">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g001">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g001">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g001">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g001">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 1. </span> Architecture of the three types of networks.</div><p class="caption_target"><a id="article1.body1.sec1.fig1.caption1.p1" name="article1.body1.sec1.fig1.caption1.p1" class="link-target"></a><p>Stimulus values are perceived by input neurons. The stimuli are then processed by the network, resulting in an activation energy <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e001" class="inline-graphic"></span> for each output neuron. An output neuron is excited whenever the activation energy is larger than the neuron's threshold <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e002" class="inline-graphic"></span>. (A) Feedforward neural network, equivalent to the architecture encapsulated in the response threshold model, where only weights <em>w</em><sub>11</sub> and <em>w</em><sub>22</sub> exist. Hence, the activation energy is equal to the perceived stimulus. (B) Feedforward neural network, fully connected. (C) Recurrent neural network, where self-feedback occurs between activation energies of previous time steps and current activation energies.</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g001">
              https://doi.org/10.1371/journal.pcbi.1002430.g001</a></p></div><a id="article1.body1.sec1.p7" name="article1.body1.sec1.p7" class="link-target"></a><p>We investigate if these slightly more sophisticated mechanisms for processing input allow for the evolution of adaptive division of labor. More precisely, we study whether task specialization among workers can evolve and moreover, whether an appropriate distribution of workers over tasks can be achieved. Throughout, the main question is whether, and to what extent, the evolution of self-organized division of labor is determined by the underlying architecture of behavior.</p>
</div>

<div id="section2" class="section toc-section"><a id="s2" name="s2" data-toc="s2" class="link-target" title="Model"></a><h2>Model</h2><a id="article1.body1.sec2.p1" name="article1.body1.sec2.p1" class="link-target"></a><p>The general aspects of the model follow A. Duarte, I. Pen, L. Keller and F.J. Weissing (subm.). We consider a population of <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e003" class="inline-graphic"></span> colonies, each founded by a single-mated individual that produces <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e004" class="inline-graphic"></span> workers (typically <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e005" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e006" class="inline-graphic"></span>). Each colony goes through a work phase consisting of <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e007" class="inline-graphic"></span> time steps (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e008" class="inline-graphic"></span>), where all individuals perceive stimuli associated with two tasks and decide whether to perform one of the tasks or remain idle. The amount of work performed and the distribution of workers over tasks determines the fitness of a colony, which corresponds to the number of reproductives produced. Selection occurs because the colonies of a given generation are founded by pairs of reproductives produced in the previous generation. Hence colonies where the workers perform their tasks in the most efficient and coordinated way spread the genes of their foundresses most effectively.</p>
<a id="article1.body1.sec2.p2" name="article1.body1.sec2.p2" class="link-target"></a><p>In line with <a href="#pcbi.1002430-Bonabeau1" class="ref-tip">[8]</a>, we assume that there are two tasks and two task-associated stimuli. Stimuli increase each time step by a fixed amount <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e009" class="inline-graphic"></span> and decrease by an amount <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e010" class="inline-graphic"></span> whenever a worker performs the task, following <a href="#pcbi.1002430-Bonabeau1" class="ref-tip">[8]</a> (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e011" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e012" class="inline-graphic"></span> in our simulations). In the response threshold model, the association between stimuli and task was also expressed in the fact that individuals were more likely to perform a task for which the stimulus was high. However, in the present model, this is not necessarily the case. An association between task and stimulus is present because the performance of a given task decreases a given stimulus. Workers are assessed in random order and, once an individual works, the corresponding stimulus value is immediately decreased, such that the next worker to be assessed experiences a different stimulus value.</p>

<div id="section1" class="section toc-section"><a id="s2a" name="s2a" class="link-target" title="Artificial neural networks"></a>
<h3>Artificial neural networks</h3>
<a id="article1.body1.sec2.sec1.p1" name="article1.body1.sec2.sec1.p1" class="link-target"></a><p>The first network studied is a simple feedforward network <a href="#pcbi.1002430-Haykin1" class="ref-tip">[19]</a> that consists of two stimulus input nodes and two behavioral output nodes, all four nodes being connected (<a href="#pcbi-1002430-g001">Figure 1B</a>). Each input node perceives a task-associated stimulus with a certain error <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e013" class="inline-graphic"></span> (drawn from a normal distribution with mean 0 and standard deviation 1). The two signals are then processed and transmitted to the output neurons, via connections with weights <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e014" class="inline-graphic"></span> that are evolvable properties of the network. Output nodes receive a weighted sum of the stimuli, generally designated activation energy. The activation energy <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e015" class="inline-graphic"></span> of an output node <em>i</em> is thus:<a name="" id="" class="link-target"></a><span class="equation"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e016" class="inline-graphic"><span class="note">(1)</span></span>Each output neuron is characterized by a threshold <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e017" class="inline-graphic"></span>, which is another evolvable property. If the activation energy of an output neuron exceeds the threshold, the neuron is activated, meaning that an individual is willing to perform the respective task. If both output neurons are activated, one task is chosen at random. Note that the response threshold model implemented in previous work is in fact a special case of the feedforward neural network, where <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e018" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e019" class="inline-graphic"></span> (<a href="#pcbi-1002430-g001">Figure 1A</a>). The main difference between our feedforward ANN model and the response threshold model is thus the evolution of the connection weights that determine how incoming information is processed and interpreted. The initial values of connection weights in our simulations are: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e020" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e021" class="inline-graphic"></span>. Changes in the connection weights and thresholds take place when new individuals are produced, via mutation (see below). During the lifetime of an individual, the parameters of its network are fixed. Thus we do not consider the changing of connection weights with learning, for example.</p>
<a id="article1.body1.sec2.sec1.p2" name="article1.body1.sec2.sec1.p2" class="link-target"></a><p>The second network architecture studied is a recurrent network <a href="#pcbi.1002430-Haykin1" class="ref-tip">[19]</a>. It includes all previous nodes and connections, and in addition it has two self-feedback loops (<a href="#pcbi-1002430-g001">Figure 1C</a>). The activation energy in a given time step will affect the activation energy in the next time step: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e022" class="inline-graphic"></span>. The connection weight <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e023" class="inline-graphic"></span> given to the previous activation energy (from here on called the self-feedback connection) is also an evolvable property that changes through mutation and natural selection during production of new individuals. During the lifetime of individuals, however, there is no change occurring in the parameters of the networks. Self-feedback connection weights were initialized at zero, which is equivalent to the feedforward network, without any influence of past experience in current decisions.</p>
</div>

<div id="section2" class="section toc-section"><a id="s2b" name="s2b" class="link-target" title="Fitness"></a>
<h3>Fitness</h3>
<a id="article1.body1.sec2.sec2.p1" name="article1.body1.sec2.sec2.p1" class="link-target"></a><p>After the work phase, the fitness of each colony is computed based on how much work the workers performed for each task. Fitness is assumed to be proportional to the weighted geometric mean of work done for both tasks:<a name="" id="" class="link-target"></a><span class="equation"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e024" class="inline-graphic"><span class="note">(2)</span></span>where <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e025" class="inline-graphic"></span> is the total number of acts performed for task <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e026" class="inline-graphic"></span> (A. Duarte, I. Pen, L. Keller, F.J. Weissing, subm.). We take the geometric rather than the arithmetic mean in order to ensure that fitness can only be achieved if both tasks are being performed. The weighing factor <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e027" class="inline-graphic"></span> allows us to consider the (realistic) situation that not all tasks need to be performed equally often. For the fitness function (2), fitness is maximized if idleness is eliminated (<em>i.e.</em>, if <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e028" class="inline-graphic"></span> is maximal) and if the workers distribute over tasks according to the ratio <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e029" class="inline-graphic"></span>. In other words, to maximize fitness the proportion <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e030" class="inline-graphic"></span> of work allocated to task 1 by the colony should be equal to <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e031" class="inline-graphic"></span>:<a name="" id="" class="link-target"></a><span class="equation"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e032" class="inline-graphic"><span class="note">(3)</span></span></p>
<a id="article1.body1.sec2.sec2.p2" name="article1.body1.sec2.sec2.p2" class="link-target"></a><p>Each generation, 2<em>M</em> reproductive offspring are produced in total in the population. Colonies contribute to the population's pool of sexual individuals in proportion to their fitness. Population size is thus fixed. The reproductive individuals then form <em>M</em> pairs randomly. From each pair one individual will found a new colony with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e033" class="inline-graphic"></span> workers, while the old colonies are eliminated.</p>
</div>

<div id="section3" class="section toc-section"><a id="s2c" name="s2c" class="link-target" title="Genetic details"></a>
<h3>Genetic details</h3>
<a id="article1.body1.sec2.sec3.p1" name="article1.body1.sec2.sec3.p1" class="link-target"></a><p>We allowed for the evolution of all connection weights and thresholds of output nodes, giving us in a total 6 (resp. 8) evolving traits. These traits are encoded by 6 (resp. 8) gene loci. The alleles at these loci correspond to real numbers, with threshold alleles being larger or equal to zero, while connection weight alleles may also attain negative values. To keep the genetic assumptions as simple as possible, we assume that all individuals are haploid and that the network of each individual is fully determined by its genotype.</p>
<a id="article1.body1.sec2.sec3.p2" name="article1.body1.sec2.sec3.p2" class="link-target"></a><p>Genotypes of workers and sexuals are similarly inherited: Both types of individuals are offspring of the mated colony foundress, and possess alleles for thresholds and connection weights. Our model allows genetic linkage of the threshold loci or linkage of the connection weight loci, but both types of loci are considered to be sufficiently far apart in the genome to make them segregate independently. The degree of linkage is determined by a parameter <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e034" class="inline-graphic"></span> (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e035" class="inline-graphic"></span>) that corresponds to a recombination rate. With probability <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e036" class="inline-graphic"></span>, the threshold alleles (resp. the connection weight alleles) are inherited as a block from one of the two parents; with probability <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e037" class="inline-graphic"></span>, the parent whose allele is transmitted is chosen independently of what happens at the other loci.</p>
<a id="article1.body1.sec2.sec3.p3" name="article1.body1.sec2.sec3.p3" class="link-target"></a><p>Mutation occurs with probability <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e038" class="inline-graphic"></span> at each locus; when a mutation occurs, the genetic value at that locus is changed by adding a real number to it that is drawn from a normal distribution with mean 0 and standard deviation <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e039" class="inline-graphic"></span>. In our simulations, we typically used <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e040" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e041" class="inline-graphic"></span>.</p>
</div>

<div id="section4" class="section toc-section"><a id="s2d" name="s2d" class="link-target" title="Measuring worker specialization"></a>
<h3>Measuring worker specialization</h3>
<a id="article1.body1.sec2.sec4.p1" name="article1.body1.sec2.sec4.p1" class="link-target"></a><p>We evaluate colony-level characteristics such as the proportion of work devoted to each task and the level of individual specialization. For each individual we calculate at the end of a simulation the fraction <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e042" class="inline-graphic"></span> of time steps that it stayed in the same task from that time step to the next. We average <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e043" class="inline-graphic"></span> over all workers and normalize this measure by dividing <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e044" class="inline-graphic"></span> by the probability that individuals stay in the same task merely due to chance. The latter is given by <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e045" class="inline-graphic"></span>, where <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e046" class="inline-graphic"></span> is the proportion of work devoted to task <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e047" class="inline-graphic"></span>. By subtracting 1 from the value thus obtained, we obtain a measure of worker specialization that ranges between −1 and 1 (A. Duarte, I. Pen, L. Keller and F. J. Weissing, subm.):<a name="" id="" class="link-target"></a><span class="equation"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e048" class="inline-graphic"><span class="note">(4)</span></span>When <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e049" class="inline-graphic"></span> is close to 1, there is a high degree of division of labor, and individuals stay in the same task much more often than expected by chance. If <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e050" class="inline-graphic"></span> is close to zero, workers switch between tasks at random. If <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e051" class="inline-graphic"></span> is lower than zero, individuals switch task more often than expected by chance.</p>
</div>

<div id="section5" class="section toc-section"><a id="s2e" name="s2e" class="link-target" title="Switching costs"></a>
<h3>Switching costs</h3>
<a id="article1.body1.sec2.sec5.p1" name="article1.body1.sec2.sec5.p1" class="link-target"></a><p>Worker specialization can be adaptive if there is a cost to switching tasks (such as a time cost if tasks are confined to different locations, or a cognitive cost), or if specialized workers perform their task with higher efficiency <a href="#pcbi.1002430-Smith1" class="ref-tip">[27]</a>. Here we implemented a time cost scenario, by imposing <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e052" class="inline-graphic"></span> time steps of inactivity whenever an individual chooses to switch from one task to the other.</p>
</div>
</div>

<div id="section3" class="section toc-section"><a id="s3" name="s3" data-toc="s3" class="link-target" title="Results"></a><h2>Results</h2><a id="article1.body1.sec3.p1" name="article1.body1.sec3.p1" class="link-target"></a><p>Simulations of the neural network model, with different network architectures were ran for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e053" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e054" class="inline-graphic"></span> and switching costs <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e055" class="inline-graphic"></span> ranging from 0 to 5 time steps. We also tested the influence of recombination between the loci coding the neural network in the evolution of specialization. There were 10 replicates per parameter combination. The evolutionary patterns of the components of the neural networks were examined (thresholds of output neuron and connection weights) at the population level. Overall, connection weights were far more important than the thresholds in determining the behavior of networks. Hence we do not address here the evolutionary trajectories of threshold loci for the feedforward network. These can be found in the Supplementary Material (<a href="#pcbi.1002430.s011">Text S1</a> and <a href="#pcbi.1002430.s001">Figure S1</a>).</p>

<div id="section1" class="section toc-section"><a id="s3a" name="s3a" class="link-target" title="Feedforward network"></a>
<h3>Feedforward network</h3>

<div id="section1" class="section toc-section"><a id="s3a1" name="s3a1" class="link-target" title="Optimal worker distribution 1∶1"></a><h4>Optimal worker distribution 1∶1.</h4><a id="article1.body1.sec3.sec1.sec1.p1" name="article1.body1.sec3.sec1.sec1.p1" class="link-target"></a><p>When <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e056" class="inline-graphic"></span>, both tasks are equally needed, and a 1∶1 distribution of workers over tasks would be optimal (see (3)). It is therefore somewhat surprising that, in the absence of switching costs, all replicate populations evolved a work distribution where one of the tasks was performed three times more often than the other (<a href="#pcbi-1002430-g002">Figure 2A</a>, top panel). From here on we refer to the task performed most often as the “preferred task”. Which task was preferred varied among replicate populations, but within a population all colonies preferred the same task. Variation among colonies in fitness values was small; all colonies reached approximately 94% of the maximum fitness (see <a href="#pcbi.1002430.s003">Figure S3</a>). Higher fitness values could not be achieved due to the deviation from a 1∶1 task distribution.</p>
<a class="link-target" id="pcbi-1002430-g002" name="pcbi-1002430-g002"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g002"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g002" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g002"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g002" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g002">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g002">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g002">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g002">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g002">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g002">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 2. </span> Feedforward neural networks: Evolutionary dynamics of two representative simulations, for</div><p class="caption_target"><a id="article1.body1.sec3.sec1.sec1.fig1.caption1.p1" name="article1.body1.sec3.sec1.sec1.fig1.caption1.p1" class="link-target"></a><p><span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e057" class="inline-graphic"></span>½ <strong>and</strong> <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e058" class="inline-graphic"></span><strong>.</strong> Grey scales indicate log counts of colonies with the corresponding value of <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e059" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e060" class="inline-graphic"></span> (scales on top of the respective graphs) and connection weights (scale on the bottom right-hand side). (A) No switching costs (<em>c</em> = 0). Top graphs: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e061" class="inline-graphic"></span> decreases to approximately 0.3. Worker specialization remains at zero. Bottom graphs: incoming connection weights at output node 2 evolve to strong positive values, whereas incoming connections weights at output node 1 evolve to weak positive values (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e062" class="inline-graphic"></span>) or oscillate around zero (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e063" class="inline-graphic"></span>). (B) With switching costs (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e064" class="inline-graphic"></span>). Top graphs: the distribution of workers over tasks and the degree of worker specialisation are both highly variable across colonies. At the end of the simulation, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e065" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e066" class="inline-graphic"></span> are both bimodally distributed. Bottom graphs: one of the connection weights (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e067" class="inline-graphic"></span>) branches, one branch having positive values and the other, negative values. All other connections show weak positive values or remain very close to zero, all being relatively homogeneous in the population.</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g002">
              https://doi.org/10.1371/journal.pcbi.1002430.g002</a></p></div><a id="article1.body1.sec3.sec1.sec1.p2" name="article1.body1.sec3.sec1.sec1.p2" class="link-target"></a><p>Typically in our simulations, both ‘incoming’ connection weights of one of the two output neurons (the neuron corresponding to the preferred task) became positive over evolutionary time (<a href="#pcbi-1002430-g002">Figure 2A</a>, bottom panel). As for the incoming connections of the other output neuron (corresponding to the non-preferred task), the direct connection (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e068" class="inline-graphic"></span> in the example simulation of <a href="#pcbi-1002430-g002">Figure 2A</a>) became positive, while the cross-connection (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e069" class="inline-graphic"></span>, in <a href="#pcbi-1002430-g002">Figure 2A</a>) typically became weak, oscillating between positive and negative values. In all simulations, the strongest positive connection was between the stimulus input neuron of the non-preferred task to the output neuron of the preferred task (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e070" class="inline-graphic"></span>, in <a href="#pcbi-1002430-g002">Figure 2A</a>). Hence, individuals use the stimulus for one task (their non-preferred task) to motivate them for performing the other task (their preferred one). As a consequence, they continue performing their preferred task, even if the stimulus level of this task has become very low (<a href="#pcbi.1002430.s002">Figure S2</a>). For this parameter combination (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e071" class="inline-graphic"></span>½, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e072" class="inline-graphic"></span>), the degree of recombination had no effect on the outcome of the simulations (<a href="#pcbi.1002430.s004">Figure S4A</a>).</p>
<a id="article1.body1.sec3.sec1.sec1.p3" name="article1.body1.sec3.sec1.sec1.p3" class="link-target"></a><p>In the presence of switching costs, the results are considerably different. When switching costs were low (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e073" class="inline-graphic"></span>), worker specialization only evolved in the absence of recombination (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e074" class="inline-graphic"></span>), with 61.4±7.2% of the colonies (mean ± SD) evolving values of <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e075" class="inline-graphic"></span>0.5. When <em>c</em> = 2, worker specialization also evolved in the presence of recombination (<a href="#pcbi-1002430-g002">Figure 2B</a>). Here 35.6±8.2% of the colonies showed <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e076" class="inline-graphic"></span>0.5. In all simulations with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e077" class="inline-graphic"></span> there was a clear (but weak) positive relationship between colony fitness and the degree of worker specialization within the colony; colonies with high mean specialization have a fitness advantage of approximately 20% over non-specialized colonies (<a href="#pcbi.1002430.s003">Figure S3</a>).</p>
<a id="article1.body1.sec3.sec1.sec1.p4" name="article1.body1.sec3.sec1.sec1.p4" class="link-target"></a><p>The bias in favor of one of the tasks that was observed in the absence of switching costs was much less pronounced or even absent in the presence of such costs. For <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e078" class="inline-graphic"></span>, initially most colonies show a work distribution close to 1∶1 (<a href="#pcbi-1002430-g002">Figure 2B</a>, top panel). After about 3500 generations, a new pattern arises, with part of the colonies having a pronounced bias toward task 1, while the other colonies have a bias toward task 2. The simulation shown is representative for higher switching costs (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e079" class="inline-graphic"></span>), but to a certain extent the outcome depends on the detailed assumptions. If, for example, recombination was not allowed in the simulation of <a href="#pcbi-1002430-g002">Figure 2B</a> (i.e., <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e080" class="inline-graphic"></span>), three different types of colonies evolved (with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e081" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e082" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e083" class="inline-graphic"></span>, respectively; see <a href="#pcbi.1002430.s011">Text S1</a> and <a href="#pcbi.1002430.s004">Figure S4B</a>).</p>
<a id="article1.body1.sec3.sec1.sec1.p5" name="article1.body1.sec3.sec1.sec1.p5" class="link-target"></a><p>The neuronal connection weights linking input neurons to the corresponding output neurons (<em>i.e.</em>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e084" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e085" class="inline-graphic"></span>) tended to evolve positive values, between 0 and 4 (<a href="#pcbi-1002430-g002">Figure 2B</a>, bottom panel). One of the cross-connections (<em>i.e.</em>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e086" class="inline-graphic"></span> or <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e087" class="inline-graphic"></span>) showed evolutionary branching <a href="#pcbi.1002430-Geritz1" class="ref-tip">[28]</a>, that is, polymorphism evolved from an initially monomorphic state. <a href="#pcbi-1002430-g002">Figure 2B</a> is representative in that <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e088" class="inline-graphic"></span> branches into a bimodal distribution, with one branch becoming negative and the other positive. When such branching occurs, two distinctly different types of networks coexist in the population (<a href="#pcbi-1002430-g003">Figure 3</a>, top panel). This is crucial for worker specialization: a high degree of specialization only occurred in colonies where the two parents differed in the sign of one of their cross-connection weights. From <a href="#pcbi-1002430-g003">Figure 3</a> we can deduce how specialization occurs in a colony with dissimilar parents. The key difference between the parents' networks is the genotypic value of <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e089" class="inline-graphic"></span>, which determines that one parent (arbitrarily labelled ‘male’) is a specialist for task 2, while the ‘female’ shows a large area of the stimulus space where both tasks are activated and where accordingly one of the two tasks is chosen at random (<a href="#pcbi-1002430-g003">Figure 3</a>, bottom panel). The workers produced by these parents will be divided among those two phenotypes. Stimulus increase initially occurs for both tasks, until the stimuli levels reach a region where individuals with a positive <em>w</em><sub>21</sub> will perform task 1. As a consequence, only stimulus 2 will keep increasing, until an area is reached where individuals with a negative <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e090" class="inline-graphic"></span> will start performing task 2. The decreasing stimulus of task 2 means that fewer workers will do task 1, because the main motivating force to do task 1 is the positive <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e091" class="inline-graphic"></span>. Hence, stimulus for task 1 will also increase. Individuals are then in an area of the stimulus space where half of them will work randomly on either task, while the other half will only perform task 2.</p>
<a class="link-target" id="pcbi-1002430-g003" name="pcbi-1002430-g003"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g003"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g003" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g003"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g003" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g003">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g003">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g003">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g003">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g003">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g003">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 3. </span> Evolved feedforward neural networks of a highly specialized colony.</div><p class="caption_target"><a id="article1.body1.sec3.sec1.sec1.fig2.caption1.p1" name="article1.body1.sec3.sec1.sec1.fig2.caption1.p1" class="link-target"></a><p>In specialized colonies, the networks of the two parents (arbitrarily labelled ‘male’ and ‘female’) differ from each other in a systematic way. Top panels: for each parent, the evolved values of the connection weights and thresholds of the network are shown. Bottom panels: the stimulus-response characteristics of each network type are shown. For each combination of stimuli, the bottom graphs show whether the network is motivated to perform only task 1 (blue), only task 2 (red), both tasks (green; in this case, one task is chosen at random), or none (white). The trajectory of stimulus values from the start to the end of the work phase, in the last generation of the evolutionary simulation, is indicated in black. Starting values were <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e092" class="inline-graphic"></span>. Other parameter values as in <a href="#pcbi-1002430-g002">Figure 2B</a>.</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g003">
              https://doi.org/10.1371/journal.pcbi.1002430.g003</a></p></div><a id="article1.body1.sec3.sec1.sec1.p6" name="article1.body1.sec3.sec1.sec1.p6" class="link-target"></a><p>For <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e093" class="inline-graphic"></span>, branching occurred at only one of the cross-connections, while for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e094" class="inline-graphic"></span> both cross-connections branched in some of the simulations.</p>
<a id="article1.body1.sec3.sec1.sec1.p7" name="article1.body1.sec3.sec1.sec1.p7" class="link-target"></a><p>In the absence of recombination, evolution leads to a higher degree of worker specialization (<a href="#pcbi.1002430.s004">Figure S4B</a>). Evolutionary branching occurs now for all the connection weights and for the thresholds as well. The area in stimulus space where networks choose both tasks is much smaller in the absence of recombination (<a href="#pcbi.1002430.s005">Figure S5</a>), leading to more pronounced differences between workers and, hence, more specialization. Branching of more loci means that networks will be more differentiated than seen previously for cases with recombination. .</p>
</div>

<div id="section2" class="section toc-section"><a id="s3a2" name="s3a2" class="link-target" title="Optimal worker distribution 3∶1"></a><h4>Optimal worker distribution 3∶1.</h4><a id="article1.body1.sec3.sec1.sec2.p1" name="article1.body1.sec3.sec1.sec2.p1" class="link-target"></a><p>In view of eq. (3), when <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e095" class="inline-graphic"></span>, the optimal worker distribution over tasks is 3∶1, with task 1 being performed 3 times more often than task 2 (i.e. <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e096" class="inline-graphic"></span>). Populations indeed evolved a worker distribution approaching this value (<a href="#pcbi-1002430-g004">Figure 4A</a>, top panel). In absence of switching costs, task 1 was performed 76.7±0.42% of the time (mean ± SD across all replicate populations, for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e097" class="inline-graphic"></span>). All colonies attained more than 99% of maximum fitness, with a few colonies achieving the maximum (<a href="#pcbi.1002430.s003">Figure S3</a>).</p>
<a class="link-target" id="pcbi-1002430-g004" name="pcbi-1002430-g004"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g004"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g004" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g004"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g004" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g004">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g004">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g004">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g004">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g004">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g004">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 4. </span> Feedforward neural networks: Evolutionary dynamics for two representative simulations, where</div><p class="caption_target"><a id="article1.body1.sec3.sec1.sec2.fig1.caption1.p1" name="article1.body1.sec3.sec1.sec2.fig1.caption1.p1" class="link-target"></a><p><span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e098" class="inline-graphic"></span> <strong>and</strong> <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e099" class="inline-graphic"></span><strong>.</strong> The same graphic conventions as in <a href="#pcbi-1002430-g002">Figure 2</a> are followed. (A) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e100" class="inline-graphic"></span>. Top graphs: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e101" class="inline-graphic"></span> increases to the optimal value 0.75; specialization remains low. Bottom graphs: connection weights incoming at output node 1 become positive (strongest connection weight being <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e102" class="inline-graphic"></span>); connection weights incoming at output node 2 become negative (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e103" class="inline-graphic"></span>) or positive, but very close to zero (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e104" class="inline-graphic"></span>). (B) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e105" class="inline-graphic"></span>. Top graphs:<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e106" class="inline-graphic"></span> increases to values above 0.75; <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e107" class="inline-graphic"></span> remains low. Bottom graphs: similar to when <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e108" class="inline-graphic"></span>, but <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e109" class="inline-graphic"></span> is closer to zero.</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g004">
              https://doi.org/10.1371/journal.pcbi.1002430.g004</a></p></div><a id="article1.body1.sec3.sec1.sec2.p2" name="article1.body1.sec3.sec1.sec2.p2" class="link-target"></a><p>A general pattern in the evolution of connection weights was the strengthening of the cross-connection <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e110" class="inline-graphic"></span> and the disappearance of connection <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e111" class="inline-graphic"></span> (as in <a href="#pcbi-1002430-g004">Figure 4A</a>, bottom panel). This explains the observed increase in performance of task 1. The cross-connections once more play an important role; since the strongest incentive to do task 1 comes from the stimulus of task 2, this allows workers to keep doing task 1 even if the stimulus for that particular task is depleted.</p>
<a id="article1.body1.sec3.sec1.sec2.p3" name="article1.body1.sec3.sec1.sec2.p3" class="link-target"></a><p>Worker specialization did evolve, but only in the absence of recombination (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e112" class="inline-graphic"></span>). Even then, specialization levels of <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e113" class="inline-graphic"></span> were only obtained for a larger number of colonies when switching costs were high (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e114" class="inline-graphic"></span>). When worker specialization did not evolve (as in <a href="#pcbi-1002430-g004">Figure 4B</a>, top panel), colonies evolved work distributions even more biased than <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e115" class="inline-graphic"></span>. When the work distribution is that strongly biased, the probability to stick to the previous task (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e116" class="inline-graphic"></span>) is high even if tasks are taken on at random. Hence, by evolving a work distribution with more than 80% of the work devoted to task 1the number of switches decreases, thus allowing colonies to avoid switching costs even in the absence of worker specialization. In this case, connection <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e117" class="inline-graphic"></span> reached lower values than for the simulations without switching costs (<a href="#pcbi-1002430-g004">Figure 4B</a>, bottom panel).</p>
</div>
</div>

<div id="section2" class="section toc-section"><a id="s3b" name="s3b" class="link-target" title="Recurrent network: self-feedback"></a>
<h3>Recurrent network: self-feedback</h3>
<a id="article1.body1.sec3.sec2.p1" name="article1.body1.sec3.sec2.p1" class="link-target"></a><p>We tested the behavior of a more complex network, where the activation energy of an output neuron could have a feedback on the activation energy at the next time step (<a href="#pcbi-1002430-g001">Figure 1C</a>). The self-feedback connections were allowed to co-evolve with the rest of the network. We ran ten replicate simulations for all the parameter combinations tested above.</p>

<div id="section1" class="section toc-section"><a id="s3b1" name="s3b1" class="link-target" title="Optimal worker distribution 1∶1"></a><h4>Optimal worker distribution 1∶1.</h4><a id="article1.body1.sec3.sec2.sec1.p1" name="article1.body1.sec3.sec2.sec1.p1" class="link-target"></a><p>In contrast to the results of the feedforward network, the optimal worker distribution <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e118" class="inline-graphic"></span> was now realized in a high proportion of colonies (<em>e.g.</em>, <a href="#pcbi-1002430-g005">figs. 5AB</a>). However, this proportion decreased with increasing switching costs. For <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e119" class="inline-graphic"></span>, the proportion of colonies with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e120" class="inline-graphic"></span> was 99.9±0.3% when <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e121" class="inline-graphic"></span> and 100% when <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e122" class="inline-graphic"></span>. For <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e123" class="inline-graphic"></span>, this proportion was at 76.5±4.1% when <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e124" class="inline-graphic"></span> and 46.7±7.6% when <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e125" class="inline-graphic"></span> (mean ± SD number of colonies across replicates).</p>
<a class="link-target" id="pcbi-1002430-g005" name="pcbi-1002430-g005"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g005"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g005" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g005"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g005" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g005">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g005">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g005">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g005">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g005">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g005">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 5. </span> Recurrent neural networks: Evolutionary dynamics of the proportion of time spent on task 1,</div><p class="caption_target"><a id="article1.body1.sec3.sec2.sec1.fig1.caption1.p1" name="article1.body1.sec3.sec2.sec1.fig1.caption1.p1" class="link-target"></a><p><span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e126" class="inline-graphic"></span><strong>, and the degree of worker specialisation,</strong> <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e127" class="inline-graphic"></span><strong>.</strong> Two representative simulations are shown for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e128" class="inline-graphic"></span>½. (AB) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e129" class="inline-graphic"></span>. In (A), switching costs are absent: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e130" class="inline-graphic"></span> quickly reaches the optimal value 0.5; worker specialization does not evolve. In (B), <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e131" class="inline-graphic"></span>: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e132" class="inline-graphic"></span> becomes more variable, but still approximates the optimal value 0.5; <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e133" class="inline-graphic"></span> rapidly increases to its maximal value 1, for all colonies in the population. (CD) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e134" class="inline-graphic"></span>. In (C), switching costs are absent: the evolutionary dynamics is as in (A). In (D), <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e135" class="inline-graphic"></span>: not all colonies can evolve worker specialization, and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e136" class="inline-graphic"></span> is also more variable across colonies.</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g005">
              https://doi.org/10.1371/journal.pcbi.1002430.g005</a></p></div><a id="article1.body1.sec3.sec2.sec1.p2" name="article1.body1.sec3.sec2.sec1.p2" class="link-target"></a><p>When <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e137" class="inline-graphic"></span>, all colonies in all replicate simulations achieved the maximum possible fitness, indicating that all workers are active all the time (<a href="#pcbi.1002430.s006">Figure S6</a>). Workers switched randomly between tasks (<em>D</em> = 0 for all colonies, <a href="#pcbi-1002430-g005">Figure 5A</a>). This was achieved by evolving positive self-feedback connections allowing workers to continue working even in the absence of an external stimulus for a task. Connection weights from stimuli input neurons to output neurons were also positive (<a href="#pcbi.1002430.s007">Figure S7</a>).</p>
<a id="article1.body1.sec3.sec2.sec1.p3" name="article1.body1.sec3.sec2.sec1.p3" class="link-target"></a><p>Worker specialization evolved already for low switching costs (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e138" class="inline-graphic"></span>), but the behavior shown by colonies, for all <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e139" class="inline-graphic"></span>, differs considerably in the simulations in the presence or absence of recombination. In the presence of recombination, all colonies within a population reached a high value of <em>D</em> (<a href="#pcbi-1002430-g005">Figure 5B</a>). In the absence of recombination, populations typically consisted of colonies with low <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e140" class="inline-graphic"></span> and colonies with high <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e141" class="inline-graphic"></span> (<a href="#pcbi-1002430-g005">Figure 5D</a>). For <em>c</em> = 1, for example, 25±7% of the colonies (mean ± SD across replicates) had <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e142" class="inline-graphic"></span>, while 66±7% of colonies showed <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e143" class="inline-graphic"></span>.</p>
<a id="article1.body1.sec3.sec2.sec1.p4" name="article1.body1.sec3.sec2.sec1.p4" class="link-target"></a><p>In the simulations where all colonies exhibited a high level of worker specialization, self-feedback connections evolved very high positive values (as in <a href="#pcbi-1002430-g006">Figure 6</a>, top panel). The connection weights from task stimulus to corresponding output neuron (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e144" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e145" class="inline-graphic"></span>) evolved to positive values, while cross-connection weights (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e146" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e147" class="inline-graphic"></span>) evolved to negative values (as in <a href="#pcbi-1002430-g006">Figure 6</a>, bottom panel). In these simulations, the evolved strategy leading to division of labor uses the strong self-feedback connections, accompanied by negative cross-connection weights, to create differentiation between individuals. Since individuals from the beginning perceive different levels of stimuli, differences in activation energy will occur and will be amplified in subsequent time steps, creating consistent differences among individuals. Hence division of labor is achieved by experience-based specialization.</p>
<a class="link-target" id="pcbi-1002430-g006" name="pcbi-1002430-g006"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g006"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g006" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g006"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g006" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g006">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g006">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g006">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g006">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g006">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g006">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 6. </span> Recurrent neural networks: Evolutionary trajectories of network parameters leading to experience-based specialization.</div><p class="caption_target"><a id="article1.body1.sec3.sec2.sec1.fig2.caption1.p1" name="article1.body1.sec3.sec2.sec1.fig2.caption1.p1" class="link-target"></a><p>A simulation is shown in which all colonies in the population evolve high degree of division of labor. Parameter values are: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e148" class="inline-graphic"></span>½, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e149" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e150" class="inline-graphic"></span>. The self-feedback connection weights, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e151" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e152" class="inline-graphic"></span> (third and fourth graph on the top panel), increase over generations, a pattern which is found across simulations showing the same worker specialization patterns. Also representative is the pattern encountered in the other connection weights (bottom panel) is the evolution of negative values in cross-connection weights (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e153" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e154" class="inline-graphic"></span>) and positive values in the connection weights between the task stimulus and respective output node (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e155" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e156" class="inline-graphic"></span>).</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g006">
              https://doi.org/10.1371/journal.pcbi.1002430.g006</a></p></div><a id="article1.body1.sec3.sec2.sec1.p5" name="article1.body1.sec3.sec2.sec1.p5" class="link-target"></a><p>In the simulations where colonies differ in their degree of worker specialization, neuronal connections (including self-feedback connections) show evolutionary branching, with one branch showing positive values and the other branch negative values or values close to zero (<a href="#pcbi-1002430-g007">Figure 7</a>). In this case, evolutionary branching allows for the co-existence of different genetically determined specialists, as seen previously for the simpler feedforward architecture.</p>
<a class="link-target" id="pcbi-1002430-g007" name="pcbi-1002430-g007"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g007"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g007" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g007"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g007" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g007">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g007">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g007">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g007">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g007">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g007">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 7. </span> Recurrent neural networks: Evolutionary trajectories of network parameters leading to genetically-determined specialization.</div><p class="caption_target"><a id="article1.body1.sec3.sec2.sec1.fig3.caption1.p1" name="article1.body1.sec3.sec2.sec1.fig3.caption1.p1" class="link-target"></a><p>A simulation is shown in which only half of the colonies in the population evolve a high degree of specialization. Parameter values as in <a href="#pcbi-1002430-g006">figure 6</a>. All connection weights undergo evolutionary branching. The self-feedback (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e157" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e158" class="inline-graphic"></span>) and crossed connection weights (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e159" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e160" class="inline-graphic"></span>) show one branch with negative values and the other with positive values. The other connection weights show one branch close to zero and the other larger, positive values.</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g007">
              https://doi.org/10.1371/journal.pcbi.1002430.g007</a></p></div></div>

<div id="section2" class="section toc-section"><a id="s3b2" name="s3b2" class="link-target" title="Optimal worker distribution 3∶1"></a><h4>Optimal worker distribution 3∶1.</h4><a id="article1.body1.sec3.sec2.sec2.p1" name="article1.body1.sec3.sec2.sec2.p1" class="link-target"></a><p>In the absence of switching costs, the mean <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e161" class="inline-graphic"></span> calculated across replicates was 0.75 and, hence, corresponding to the optimal value for fitness (<a href="#pcbi-1002430-g008">Figure 8A</a>). Interestingly, worker specialization was negative (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e162" class="inline-graphic"></span>) in all colonies in 19 out of 20 simulations (encompassing both simulations where recombination is present as well as where it is absent). In other words, individuals switched more often between tasks than expected by chance.</p>
<a class="link-target" id="pcbi-1002430-g008" name="pcbi-1002430-g008"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.g008"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.g008" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.g008"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.g008" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g008">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.g008">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g008">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.g008">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g008">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.g008">
                original image
              </a></li></ul></div><div class="figcaption"><span>Figure 8. </span> Recurrent neural networks: Evolutionary dynamics of work distribution</div><p class="caption_target"><a id="article1.body1.sec3.sec2.sec2.fig1.caption1.p1" name="article1.body1.sec3.sec2.sec2.fig1.caption1.p1" class="link-target"></a><p><span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e163" class="inline-graphic"></span> <strong>and worker specialisation</strong> <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e164" class="inline-graphic"></span> <strong>for</strong> <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e165" class="inline-graphic"></span> <strong>and</strong> <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e166" class="inline-graphic"></span><strong>.</strong> (A) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e167" class="inline-graphic"></span>. <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e168" class="inline-graphic"></span> quickly reaches the optimal value 0.75. <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e169" class="inline-graphic"></span> evolves to negative values, indicating that individuals switch tasks more often than by chance. (B) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e170" class="inline-graphic"></span>. <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e171" class="inline-graphic"></span> increases to values above 0.75; worker specialization does not evolve.</p>
</p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.g008">
              https://doi.org/10.1371/journal.pcbi.1002430.g008</a></p></div><a id="article1.body1.sec3.sec2.sec2.p2" name="article1.body1.sec3.sec2.sec2.p2" class="link-target"></a><p>Worker specialization never evolved for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e172" class="inline-graphic"></span>. For <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e173" class="inline-graphic"></span>, specialization only evolved in the absence of recombination. These results are shown in the Supplementary Material (<a href="#pcbi.1002430.s012">Text S2</a>, <a href="#pcbi.1002430.s008">Figures S8</a>, <a href="#pcbi.1002430.s009">S9</a>, <a href="#pcbi.1002430.s010">S10</a>). For <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e174" class="inline-graphic"></span>, in two of the replicates, all colonies show high levels of specialization, accompanied by the optimal worker distribution (<a href="#pcbi.1002430.s008">Figure S8A</a>). In these particular replicates the self-feedback connections became strongly positive (<a href="#pcbi.1002430.s009">Figure S9</a>). In all other replicates only about half the colonies showed <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e175" class="inline-graphic"></span>, while the other half had no specialization (<a href="#pcbi.1002430.s008">Figure S8B</a>). The distribution of workers over tasks was highly variable, with very few colonies actually achieving <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e176" class="inline-graphic"></span>. The networks in these populations showed evolutionary branching of self-feedback connections (<a href="#pcbi.1002430.s010">Figure S10</a>).</p>
<a id="article1.body1.sec3.sec2.sec2.p3" name="article1.body1.sec3.sec2.sec2.p3" class="link-target"></a><p>For higher switching costs (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e177" class="inline-graphic"></span>), worker specialization could evolve in the presence of recombination, but only in three replicates out of 20, in the evolutionary time considered (results not shown). In these replicates, all colonies combined high levels of specialization and a work distribution very close to the optimal value of 0.75. Worker specialization was again achieved through two different types of networks; one where evolutionary branching occurs in key neuronal connections (particularly self-feedback connections), and the other through evolution of strong positive self-feedback connections (not shown). The first network type leads to a population where only half the colonies have specialized workers, and the correct work proportion is hardly achieved; the second network type leads to a population where all colonies have a high level of specialization and the optimal work proportion.</p>
</div>
</div>
</div>

<div id="section4" class="section toc-section"><a id="s4" name="s4" data-toc="s4" class="link-target" title="Discussion"></a><h2>Discussion</h2><a id="article1.body1.sec4.p1" name="article1.body1.sec4.p1" class="link-target"></a><p>Here we studied whether and how two different neural network architectures enable the evolution of self-organized division of labor and adaptive task ratios. Our results are summarized in <a href="#pcbi-1002430-t001">table 1</a>.</p>
<a class="link-target" id="pcbi-1002430-t001" name="pcbi-1002430-t001"></a><div class="figure" data-doi="10.1371/journal.pcbi.1002430.t001"><div class="img-box"><a title="Click for larger image" href="article/figure/image?size=medium&amp;id=info:doi/10.1371/journal.pcbi.1002430.t001" data-doi="info:doi/10.1371/journal.pcbi.1002430" data-uri="info:doi/10.1371/journal.pcbi.1002430.t001"><img src="article/figure/image?size=inline&amp;id=info:doi/10.1371/journal.pcbi.1002430.t001" alt="thumbnail" class="thumbnail"></a><div class="expand"></div></div><div class="figure-inline-download">
          Download:
          <ul><li><div class="definition-label"><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.t001">
                  PPT
                </a></div><a href="article/figure/powerpoint?id=info:doi/10.1371/journal.pcbi.1002430.t001">
                PowerPoint slide
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.t001">
                  PNG
                </a></div><a href="article/figure/image?download&amp;size=large&amp;id=info:doi/10.1371/journal.pcbi.1002430.t001">
                larger image
              </a></li><li><div class="definition-label"><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.t001">
                  TIFF
                </a></div><a href="article/figure/image?download&amp;size=original&amp;id=info:doi/10.1371/journal.pcbi.1002430.t001">
                original image
              </a></li></ul></div><div class="figcaption"><span>Table 1. </span> Work proportion and degree of division of labor obtained under different behavioral architectures.</div><p class="caption_target"></p><p class="caption_object"><a href="https://doi.org/10.1371/journal.pcbi.1002430.t001">
              https://doi.org/10.1371/journal.pcbi.1002430.t001</a></p></div><a id="article1.body1.sec4.p2" name="article1.body1.sec4.p2" class="link-target"></a><p>With a feedforward network (<a href="#pcbi-1002430-t001">table 1</a>), worker specialization evolved more easily (i.e. at lower switching costs) in the absence of recombination. In the absence of recombination the connection weights can co-evolve as a tightly linked block of genes, making it easier to evolve specific combinations of connection weights favoring specialization. Recombination pushes populations into a solution where only one connection weight locus branches, the rest of the network being relatively homogeneous in the population. This allows worker specialization to occur, but to a lesser extent than in the absence of recombination, because at least one of the parent networks in a specialized colony behaves as a generalist for a large range of stimulus combinations. A large percentage of colonies showed no worker specialization, hence, no division of labor. This is because random mating allows for couples with similar genotypes to produce colonies where workers are too similar and therefore division of labor cannot emerge.</p>
<a id="article1.body1.sec4.p3" name="article1.body1.sec4.p3" class="link-target"></a><p>Previous work on the response threshold model (A. Duarte, I. Pen, L. Keller and F. J. Weissing, subm.) showed that the work ratio could not easily deviate from 1∶1, even if a biased work ratio was optimal. In contrast, in the case of the feedforward network, the work ratio was always biased for one of the tasks, even when a symmetric work ratio was optimal (<a href="#pcbi-1002430-t001">table 1</a>). Owing to selection for minimizing idleness, the evolved networks maximized the amount of work done by using the stimulus from one of the tasks to stimulate workers to perform the other task. In this way, one of the tasks was performed in excess (the ‘preferred’ task), even when its associated stimulus had been depleted. Although this may seem counter-intuitive, it represents an advantage over networks that attempt to maximize both tasks, because these networks would be limited to the work strictly necessary to reduce stimuli to zero. When <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e180" class="inline-graphic"></span>, the optimal work ratio was achieved, but only in the absence of switching costs. When switching costs were present, the most common evolved strategy was to increase the proportion of work for task 1 in order to minimize switching among tasks.</p>
<a id="article1.body1.sec4.p4" name="article1.body1.sec4.p4" class="link-target"></a><p>Some of the limitations of the simple feedforward network were eliminated in the slightly more complex architecture of the recurrent network, where previous activation energies feed back on current activation energies. Worker specialization evolved at low switching costs, now both in the presence and absence of recombination (<a href="#pcbi-1002430-t001">table 1</a>), at least for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e181" class="inline-graphic"></span>. Interestingly, the presence of recombination favored an outcome where all colonies showed a high degree of specialization. In these populations, specialization does not depend on the presence of two complementary networks in the parents of a colony (as in <a href="#pcbi-1002430-g003">figure 3</a>), but on a strengthening of the self-feedback connections. This allows for initial differences between individuals in stimulus perception to be amplified in subsequent time steps and leads to behavioral differentiation through reinforcement of previous experiences. In the presence of recombination, this strategy prevails. However, when no recombination occurs, evolutionary branching of connection weights is still the prevalent strategy through which worker specialization evolves. Why is the experience-based strategy not observed in all simulations? A likely reason is that to reach this strategy, the values of neural connections must first pass through values where, in the absence of recombination, evolutionary branching is more advantageous. Hence, the evolutionary outcome is dependent on initial conditions. We confirmed this by running simulations where the self-feedback connections were initialized at higher values (e.g., <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e182" class="inline-graphic"></span>); in this case all populations evolved the experience-based strategy rather than evolutionary branching (results not shown). The evolution of an experience-based strategy is affected by stochastic effects at the moment that the population passes the “branching point”, namely on the direction and magnitude of genetic variation, that may lead to local fitness optima. The two strategies may thus represent alternative stable states. The mean population fitness of the genetic specialization (evolutionary branching) is noticeably lower than the mean population fitness of the experience-based strategy (<a href="#pcbi.1002430.s007">Figure S7</a>).</p>
<a id="article1.body1.sec4.p5" name="article1.body1.sec4.p5" class="link-target"></a><p>The recurrent network also allowed for the optimal work ratio to be reached in most cases, at least by part of the population (<a href="#pcbi-1002430-t001">Table 1</a>), even in the presence of switching costs. When <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e183" class="inline-graphic"></span>, the self-feedback connections allow the continuous activation of both tasks, stimulating individuals that had previously done a task to do it again, even in the absence of the corresponding task stimulus. With this architecture it is also harder to attain the optimal work ratio when <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e184" class="inline-graphic"></span> and switching costs are considered, and only few replicate populations show both <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e185" class="inline-graphic"></span> and high degree of worker specialization.</p>
<a id="article1.body1.sec4.p6" name="article1.body1.sec4.p6" class="link-target"></a><p>The recurrent network has similarities with the reinforced threshold model, in which individual thresholds are lowered after the performance of the respective tasks and increased when the tasks are not performed <a href="#pcbi.1002430-Theraulaz1" class="ref-tip">[9]</a>, <a href="#pcbi.1002430-Gautrais1" class="ref-tip">[29]</a>. In both models, initial differences in experience lead to consistent behavioral differentiation, thus bypassing the need of specific genetic combinations for the emergence of task specialization. However, in terms of the distribution of workers over tasks, the reinforced threshold model suffers from the same limitations as the fixed threshold model, with worker distribution being mainly dependent on the parameters of stimulus dynamics (A. Duarte, T. Janzen, F.J. Weissing and I. Pen, in prep.).</p>
<a id="article1.body1.sec4.p7" name="article1.body1.sec4.p7" class="link-target"></a><p>Our results highlight the importance of considering asymmetries in models of division of labor. In the evolutionary response threshold model by A. Duarte, I. Pen, L. Keller and F. J. Weissing (subm.), we show that a biased <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e186" class="inline-graphic"></span>-value cannot be obtained through the evolution of thresholds. To achieve a biased <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e187" class="inline-graphic"></span>-value in this model, asymmetry must be present in the environment (e.g. in the values of task-associated stimuli <a href="#pcbi.1002430-Bonabeau1" class="ref-tip">[8]</a>) to which the response-threshold mechanism then responds. However, in reality, asymmetries in the work distribution might also arise from the ability of individuals to perceive and prioritize tasks differently. Here we show that, for both types of networks studied, it is not easy to evolve strict worker specialization together with an asymmetric distribution of workers over tasks. A major difficulty is that in case of genetically determined specialization the work proportion is dependent, to a large extent, on the proportions of different specialists in each colony. Since we only consider single-mated foundresses, colonies in our model show either equal proportions of the two specialist strategies or only one of the specialist strategies. Evolving experience-based specialization enables an asymmetric work distribution and division of labor (although at a lower degree of worker specialization than under symmetric conditions, and only in the absence of recombination), yet the trajectory towards this strategy is subject to stochastic effects that may diverge evolution towards genetically determined specialization or towards an increase of performance of the most needed task beyond its optimal level.</p>
<a id="article1.body1.sec4.p8" name="article1.body1.sec4.p8" class="link-target"></a><p>The observed difficulty in favoring a specific work ratio under switching costs indicates that the simple behavioral architectures investigated are limited in the ability to evolve efficient solutions to complex optimization problems. In the presence of switching costs, it is important for colonies to maximize worker specialization, while at the same time minimizing the number of idle workers <em>and</em> optimizing the work ratio. The behavioral architectures considered thus far were only able to evolve sub-optimal solutions to this multi-faceted problem.</p>
<a id="article1.body1.sec4.p9" name="article1.body1.sec4.p9" class="link-target"></a><p>Modelling the evolution of behavioral mechanisms by means of artificial neural networks presents several advantages when compared to <em>a priori</em> chosen behavioral architectures such as a response threshold mechanism. First, mechanisms potentially leading to self-organized division of labor are not built into the model, but must emerge from the model. Second, evolving neural networks transcend some limitation of the human mind. When asked to design plausible mechanisms, the imagination of most modellers is limited to simple and intuitive mechanisms (like a response-threshold mechanism) that our mind can easily envisage. For example, it is unlikely that one would envisage a mechanism where a task-associated stimulus does not stimulate the performance of its corresponding task, but of a different one, as it occurs in the feedforward network. By using an independent modelling setup, we can get an idea whether, and to what extent, the results based on the more standard implementations are robust. In our case, the simple feedforward network is too constrained to achieve worker specialization and an appropriate distribution of workers over tasks. By adding a simple elemental feedback the resulting recurrent network had a much higher evolutionary potential. In future models we could consider the evolution of the network's topology, e.g. by allowing the addition and elimination of neurons and connections to an existing network through mutation <a href="#pcbi.1002430-Yao1" class="ref-tip">[24]</a>.</p>
<a id="article1.body1.sec4.p10" name="article1.body1.sec4.p10" class="link-target"></a><p>The simple feed-forward neural network was constrained by a problem already present with the response threshold mechanism: to get specialization at the colony level, the coexistence of two specialist genotypes is necessary. Random mating and recombination played an important role in the evolutionary outcome. In general we observed that recombination made it more difficult for genetic specialization to evolve. With recombination, evolutionary branching at multiple loci occurred only rarely, at very high switching costs. This is in accordance with the argument that, in constant environments, recombination may destroy favorable allelic combinations <a href="#pcbi.1002430-Otto1" class="ref-tip">[30]</a>, <a href="#pcbi.1002430-Feldman1" class="ref-tip">[31]</a>. Our model suggests that in systems where strong genetic task determination and high recombination rates exist, multiple mating would be favored, in order to increase the chance that workers have favorable allelic combinations. This is in accordance to what we observe in honeybees <a href="#pcbi.1002430-Wilfert1" class="ref-tip">[32]</a>, <a href="#pcbi.1002430-Palmer1" class="ref-tip">[33]</a>. Under the recurrent network architecture, recombination may also play a beneficial role by creating more genetic variation in the self-feedback connections, which could favor division of labor emerging through the experience-based strategy.</p>
<a id="article1.body1.sec4.p11" name="article1.body1.sec4.p11" class="link-target"></a><p>The purpose of our approach was not to represent the behavioral architecture of real organisms, but to present a conceptual model that could shed some light on the role of architectural constraints in the evolution of self-organized division of labor. A limitation of this approach is that the larger the network, the more difficult it is to draw conclusions that are biologically relevant. We have implemented two very simple networks, and yet already have six to eight evolvable parameters. We were able to understand the interaction of the networks with the environment and pinpoint the key connections that allowed for specific behaviors, but this may not be possible for more complex architectures.</p>
<a id="article1.body1.sec4.p12" name="article1.body1.sec4.p12" class="link-target"></a><p>The fitness function used (eq. 2) favored the minimization of idleness. Although it is not unrealistic to assume that more work will translate to higher colony productivity, in reality social insect colonies contain a large proportion of idle workers <a href="#pcbi.1002430-Dornhaus1" class="ref-tip">[34]</a>–<a href="#pcbi.1002430-SchmidHempel1" class="ref-tip">[36]</a>. Examples of circumstances that would allow the presence of idle workers include environmental perturbations that require quick recruitment of “stand-by” workers, advantage of energy-saving strategies under poor resource conditions, and selective neutrality of “incompetent” workers due to highly redundant organization of work <a href="#pcbi.1002430-SchmidHempel1" class="ref-tip">[36]</a> (and references therein). As stressed before, here we present a conceptual model for the effect of behavioral architectures in division of labor, and necessarily simplify certain assumptions. A more realistic version of our model would treat fitness as the number of offspring produced by a colony, and explicitly consider the nature of the different tasks (e.g. foraging and brood care).</p>
<a id="article1.body1.sec4.p13" name="article1.body1.sec4.p13" class="link-target"></a><p>Division of labor is a broad topic, with many aspects that were outside the scope of this study. Previous theoretical work has focused on the evolution of differentiated multicellularity, the evolution of germ and soma in multicellular organisms, and the effect of developmental plasticity in gene expression as a cause of individual differentiation <a href="#pcbi.1002430-Gavrilets1" class="ref-tip">[37]</a>–<a href="#pcbi.1002430-Schlichting1" class="ref-tip">[40]</a>. Here we focused on the evolution of behavioral task specialization in groups where reproductive altruism (analogous to germ-soma differentiation) has already evolved, an assumption which is in line with a recent comparative analysis of the evolutionary history of division of labor <a href="#pcbi.1002430-Simpson1" class="ref-tip">[41]</a>. We did not consider the role of developmental plasticity, although this plays an important role in the differentiation of morphological castes <a href="#pcbi.1002430-Oster2" class="ref-tip">[42]</a>. Underlying the different questions concerning division of labor, however, is a problem of functional optimization: Organisms can increase their reproductive success if they perform different tasks efficiently. Dividing tasks among lower-level units within the organism or colony (often referred to as a superorganism) is a solution to the problem. What our model suggests is that the particular behavioral rules through which task specialization arises may impact the evolutionary outcome.</p>
</div>

<div id="section5" class="section toc-section"><a id="s5" name="s5" data-toc="s5" class="link-target" title="Supporting Information"></a><h2>Supporting Information</h2><div class="figshare_widget" doi="10.1371/journal.pcbi.1002430"></div><div class="supplementary-material"><a name="pcbi.1002430.s001" id="pcbi.1002430.s001" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s001">Figure S1. </a></h3><a id="article1.body1.sec5.supplementary-material1.caption1.p1" name="article1.body1.sec5.supplementary-material1.caption1.p1" class="link-target"></a><p class="preSiDOI">Evolutionary trajectories of thresholds for four example simulations differing in the switching costs and the optimal work proportion, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e188" class="inline-graphic"></span>. Graphic conventions follow <a href="#pcbi-1002430-g002">figure 2</a> in main text. In all simulations, <em>r</em> = 0.5. (A) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e189" class="inline-graphic"></span>, <em>c</em> = 0. (B) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e190" class="inline-graphic"></span>, <em>c</em> = 2. (C) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e191" class="inline-graphic"></span>, <em>c</em> = 0. (D) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e192" class="inline-graphic"></span>, <em>c</em> = 2.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s001">https://doi.org/10.1371/journal.pcbi.1002430.s001</a></p><a id="article1.body1.sec5.supplementary-material1.caption1.p2" name="article1.body1.sec5.supplementary-material1.caption1.p2" class="link-target"></a><p class="postSiDOI">(TIFF)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s002" id="pcbi.1002430.s002" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s002">Figure S2. </a></h3><a id="article1.body1.sec5.supplementary-material2.caption1.p1" name="article1.body1.sec5.supplementary-material2.caption1.p1" class="link-target"></a><p class="preSiDOI">Typical colony of the last generation of an evolutionary simulation (<em>c</em> = 0 and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e193" class="inline-graphic"></span>). (A) Number of workers engaged in task 1 (black solid line) and task 2 (grey line) are indicated on the left-hand vertical axis, during time steps of the work phase. Degree of worker specialization, <em>D</em> (black dashed line), is indicated on the right-hand vertical axis. From the start, more workers engage in task 2 than task 1. Division Worker specialization close to zero throughout the simulation. (B) Stimulus for task 1 (black line) and task 2 (grey line) during the time steps of the work phase. Stimulus 1 remains at higher values, due to the fewer number of workers performing task 1.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s002">https://doi.org/10.1371/journal.pcbi.1002430.s002</a></p><a id="article1.body1.sec5.supplementary-material2.caption1.p2" name="article1.body1.sec5.supplementary-material2.caption1.p2" class="link-target"></a><p class="postSiDOI">(EPS)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s003" id="pcbi.1002430.s003" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s003">Figure S3. </a></h3><a id="article1.body1.sec5.supplementary-material3.caption1.p1" name="article1.body1.sec5.supplementary-material3.caption1.p1" class="link-target"></a><p class="preSiDOI">Relationship between colony fitness and worker specialization at the end of evolutionary simulations of the feedforward network in the absence (AC) and presence (BD) of switching costs. For all colonies, fitness is represented as the fraction of the maximum possible fitness. In (AB), <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e194" class="inline-graphic"></span>. (A) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e195" class="inline-graphic"></span>, corresponding to <a href="#pcbi-1002430-g002">fig. 2A</a> in main text. All colonies achieve a high fitness; despite the fact that the evolved distribution of workers over tasks deviates substantially from the optimum value <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e196" class="inline-graphic"></span> (see <a href="#pcbi-1002430-g002">fig. 2</a> in the main text). As expected in absence of switching costs, there is no relationship between colony fitness and <em>D</em>. (B) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e197" class="inline-graphic"></span>, corresponding to <a href="#pcbi-1002430-g002">fig. 2B</a> in main text. Colony fitness increases with worker specialization, but even for large values of <em>D</em> colony fitness is substantially lower than in the absence of switching costs. In (CD), <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e198" class="inline-graphic"></span>. (C) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e199" class="inline-graphic"></span>, corresponding to <a href="#pcbi-1002430-g004">fig. 4A</a> in main text. All colonies achieve the highest possible fitness, because they are now able to achieve the optimal ratio among tasks (3∶1). As expected in absence of switching costs, there is no relation between fitness and <em>D</em>. (D) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e200" class="inline-graphic"></span>, corresponding to <a href="#pcbi-1002430-g004">fig. 4B</a> in main text. Colonies do not reach high <em>D</em>, yet fitness changes with <em>D</em> in a non-monotonic way.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s003">https://doi.org/10.1371/journal.pcbi.1002430.s003</a></p><a id="article1.body1.sec5.supplementary-material3.caption1.p2" name="article1.body1.sec5.supplementary-material3.caption1.p2" class="link-target"></a><p class="postSiDOI">(EPS)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s004" id="pcbi.1002430.s004" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s004">Figure S4. </a></h3><a id="article1.body1.sec5.supplementary-material4.caption1.p1" name="article1.body1.sec5.supplementary-material4.caption1.p1" class="link-target"></a><p class="preSiDOI">Evolutionary dynamics of two representative simulations of the evolution of a feedforward neural network, for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e201" class="inline-graphic"></span>½ and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e202" class="inline-graphic"></span>. Figure follows graphic conventions of <a href="#pcbi-1002430-g002">fig. 2</a> in the main text. (A) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e203" class="inline-graphic"></span>. Top graphs: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e204" class="inline-graphic"></span> evolves to approximately 0.3. Worker specialization remains at zero. Bottom graphs: connection weights linked to output neuron 2 increase to positive values, the strongest being the cross-connection <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e205" class="inline-graphic"></span>. Direct connection weight <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e206" class="inline-graphic"></span> becomes positive, while the cross-connection <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e207" class="inline-graphic"></span> evolves to negative values. (B) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e208" class="inline-graphic"></span>. Top graphs: <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e209" class="inline-graphic"></span> becomes more variable, with some colonies achieving the optimal value, 0.5, but most falling in one of two regions, one close to 0.4, the other close to 0.6. <em>D</em> rapidly evolves to a bimodal distribution with approximately 70% of the colonies having <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e210" class="inline-graphic"></span> and approximately 30% having <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e211" class="inline-graphic"></span>. Bottom graphs: all connection weights suffer evolutionary branching. The cross-connections diverge the most, with one branch showing positive values and the other negative values.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s004">https://doi.org/10.1371/journal.pcbi.1002430.s004</a></p><a id="article1.body1.sec5.supplementary-material4.caption1.p2" name="article1.body1.sec5.supplementary-material4.caption1.p2" class="link-target"></a><p class="postSiDOI">(TIFF)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s005" id="pcbi.1002430.s005" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s005">Figure S5. </a></h3><a id="article1.body1.sec5.supplementary-material5.caption1.p1" name="article1.body1.sec5.supplementary-material5.caption1.p1" class="link-target"></a><p class="preSiDOI">Evolved feedforward neural networks of the parents of a highly specialized colony in the simulation corresponding to <a href="#pcbi.1002430.s004">fig. S4B</a> (last generation). Top panels: evolved values of connection weights and thresholds are shown for each parent. Bottom graphs: the stimulus-response characteristics of each network are shown. For each combination of stimuli, the bottom graphs show whether the network is motivated to perform only task 1 (blue), only task 2 (red), both tasks (green; in this case, a task is chosen at random) or none (white). The black line indicates the trajectory of stimuli values during the work phase of the last generation of the evolutionary simulation. Starting values were <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e212" class="inline-graphic"></span>.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s005">https://doi.org/10.1371/journal.pcbi.1002430.s005</a></p><a id="article1.body1.sec5.supplementary-material5.caption1.p2" name="article1.body1.sec5.supplementary-material5.caption1.p2" class="link-target"></a><p class="postSiDOI">(TIF)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s006" id="pcbi.1002430.s006" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s006">Figure S6. </a></h3><a id="article1.body1.sec5.supplementary-material6.caption1.p1" name="article1.body1.sec5.supplementary-material6.caption1.p1" class="link-target"></a><p class="preSiDOI">Relationship between relative fitness and worker specialization, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e213" class="inline-graphic"></span>, at the last generation of four representative simulations of the evolution of recurrent neural networks, for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e214" class="inline-graphic"></span>. (A) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e215" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e216" class="inline-graphic"></span>: corresponding to <a href="#pcbi-1002430-g005">fig. 5A</a> in the main text. All colonies reach the highest possible fitness. (B) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e217" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e218" class="inline-graphic"></span>: corresponding to <a href="#pcbi-1002430-g005">fig. 5B</a> in the main text. All colonies have high degree of worker specialization (<span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e219" class="inline-graphic"></span>). Colonies with the highest level of worker specialization are able to reach also the highest possible fitness. (C) <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e220" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e221" class="inline-graphic"></span>: corresponding to <a href="#pcbi-1002430-g006">fig. 6</a> in main text, one of the few cases in the absence of recombination where all colonies evolve worker specialization, and achieve maximum fitness. (D) Same parameter combination as (C), but depicting the more general pattern found in the absence of recombination and presence of switching costs (corresponding to <a href="#pcbi-1002430-g007">fig. 7</a> in the main text). Only a portion of the colonies reach high worker specialization, which results in high variation in fitness among colonies.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s006">https://doi.org/10.1371/journal.pcbi.1002430.s006</a></p><a id="article1.body1.sec5.supplementary-material6.caption1.p2" name="article1.body1.sec5.supplementary-material6.caption1.p2" class="link-target"></a><p class="postSiDOI">(EPS)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s007" id="pcbi.1002430.s007" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s007">Figure S7. </a></h3><a id="article1.body1.sec5.supplementary-material7.caption1.p1" name="article1.body1.sec5.supplementary-material7.caption1.p1" class="link-target"></a><p class="preSiDOI">Evolutionary trajectories of thresholds and connection weights of recurrent networks, in a simulation with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e222" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e223" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e224" class="inline-graphic"></span>, corresponding to <a href="#pcbi-1002430-g005">Figure 5A</a> in main text.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s007">https://doi.org/10.1371/journal.pcbi.1002430.s007</a></p><a id="article1.body1.sec5.supplementary-material7.caption1.p2" name="article1.body1.sec5.supplementary-material7.caption1.p2" class="link-target"></a><p class="postSiDOI">(TIF)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s008" id="pcbi.1002430.s008" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s008">Figure S8. </a></h3><a id="article1.body1.sec5.supplementary-material8.caption1.p1" name="article1.body1.sec5.supplementary-material8.caption1.p1" class="link-target"></a><p class="preSiDOI">Evolutionary dynamics of two simulations of the evolution of a recurrent neural network, with self-feedback, for <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e225" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e226" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e227" class="inline-graphic"></span>. The simulations are examples of the two strategies that evolved in response to switching costs. (A) The less frequent outcome (2 out of 10 simulations), where all colonies show values of <em>p</em><sub>1</sub> close to 0.75, the optimal value, and most colonies show <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e228" class="inline-graphic"></span>, at the end of the considered evolutionary time. (B) The more frequent outcome, where approximately half the colonies showed <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e229" class="inline-graphic"></span> around 0.5 and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e230" class="inline-graphic"></span>, and the other half showed <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e231" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e232" class="inline-graphic"></span>.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s008">https://doi.org/10.1371/journal.pcbi.1002430.s008</a></p><a id="article1.body1.sec5.supplementary-material8.caption1.p2" name="article1.body1.sec5.supplementary-material8.caption1.p2" class="link-target"></a><p class="postSiDOI">(TIFF)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s009" id="pcbi.1002430.s009" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s009">Figure S9. </a></h3><a id="article1.body1.sec5.supplementary-material9.caption1.p1" name="article1.body1.sec5.supplementary-material9.caption1.p1" class="link-target"></a><p class="preSiDOI">Evolutionary trajectories of thresholds and connection weights of recurrent networks, in a simulation with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e233" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e234" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e235" class="inline-graphic"></span>, corresponding to <a href="#pcbi.1002430.s007">fig. S7A</a>. Top graphs: self-feedback connection weights evolve positive values, as in other simulations where all colonies showed high degree of worker specialization. Evolution of thresholds did not show a specific pattern across simulations, hence it plays a less important role in the outcome. Weights showed positive values for direct connections (with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e236" class="inline-graphic"></span>) and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e237" class="inline-graphic"></span>) and negative values for cross-connections (with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e238" class="inline-graphic"></span>), a pattern also representative for other simulations where all colonies evolved worker specialization.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s009">https://doi.org/10.1371/journal.pcbi.1002430.s009</a></p><a id="article1.body1.sec5.supplementary-material9.caption1.p2" name="article1.body1.sec5.supplementary-material9.caption1.p2" class="link-target"></a><p class="postSiDOI">(TIFF)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s010" id="pcbi.1002430.s010" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s010">Figure S10. </a></h3><a id="article1.body1.sec5.supplementary-material10.caption1.p1" name="article1.body1.sec5.supplementary-material10.caption1.p1" class="link-target"></a><p class="preSiDOI">Evolutionary trajectories of thresholds and connection weights of recurrent networks, in a simulation with <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e239" class="inline-graphic"></span>, <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e240" class="inline-graphic"></span> and <span class="inline-formula"><img src="article/file?type=thumbnail&amp;id=info:doi/10.1371/journal.pcbi.1002430.e241" class="inline-graphic"></span>, corresponding to <a href="#pcbi.1002430.s007">fig. S7B</a>. Top graphs: Self-feedback connection weights go through evolutionary branching, as in other simulations where only a portion of the colonies shows high degree of worker specialization. One branch has positive values, and the other negative values. Bottom graphs: weights are maintained at quite low values, oscillating around zero.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s010">https://doi.org/10.1371/journal.pcbi.1002430.s010</a></p><a id="article1.body1.sec5.supplementary-material10.caption1.p2" name="article1.body1.sec5.supplementary-material10.caption1.p2" class="link-target"></a><p class="postSiDOI">(TIFF)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s011" id="pcbi.1002430.s011" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s011">Text S1. </a></h3><a id="article1.body1.sec5.supplementary-material11.caption1.p1" name="article1.body1.sec5.supplementary-material11.caption1.p1" class="link-target"></a><p class="preSiDOI">Feedforward neural network.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s011">https://doi.org/10.1371/journal.pcbi.1002430.s011</a></p><a id="article1.body1.sec5.supplementary-material11.caption1.p2" name="article1.body1.sec5.supplementary-material11.caption1.p2" class="link-target"></a><p class="postSiDOI">(DOC)</p>
</div><div class="supplementary-material"><a name="pcbi.1002430.s012" id="pcbi.1002430.s012" class="link-target"></a><h3 class="siTitle title-small"><a href="article/file?type=supplementary&amp;id=info:doi/10.1371/journal.pcbi.1002430.s012">Text S2. </a></h3><a id="article1.body1.sec5.supplementary-material12.caption1.p1" name="article1.body1.sec5.supplementary-material12.caption1.p1" class="link-target"></a><p class="preSiDOI">Recurrent neural networks, with self-feedback.</p>
<p class="siDoi"><a href="https://doi.org/10.1371/journal.pcbi.1002430.s012">https://doi.org/10.1371/journal.pcbi.1002430.s012</a></p><a id="article1.body1.sec5.supplementary-material12.caption1.p2" name="article1.body1.sec5.supplementary-material12.caption1.p2" class="link-target"></a><p class="postSiDOI">(DOC)</p>
</div></div>





<div class="section toc-section"><a id="ack" name="ack" data-toc="ack" title="Acknowledgments" class="link-target"></a><h2>Acknowledgments</h2>
<a id="article1.back1.ack1.p1" name="article1.back1.ack1.p1" class="link-target"></a><p>The authors would like to thank Ido Pen, Laurent Keller, Steffen Wischmann and Alex Ivanov for fruitful discussions and advice, and two anonymous reviewers for comments which greatly improved the manuscript.</p>
</div><div class="contributions toc-section"><a id="authcontrib" name="authcontrib" data-toc="authcontrib" title="Author Contributions"></a><h2>Author Contributions</h2><p>Conceived and designed the experiments: AD FJW. Performed the experiments: AD ES. Analyzed the data: AD. Wrote the paper: AD FJW.</p></div><div class="toc-section"><a id="references" name="references" class="link-target" data-toc="references" title="References"></a><h2>References</h2><ol class="references"><li id="ref1"><span class="order">1.
            </span><a name="pcbi.1002430-Szathmry1" id="pcbi.1002430-Szathmry1" class="link-target"></a>Szathmáry E, Maynard Smith J (1995) The major evolutionary transitions. Nature  374: 227–232.  <ul class="reflinks"><li><a href="#" data-author="Szathm%C3%A1ry" data-cit="Szathm%C3%A1ryEMaynard%20SmithJ1995The%20major%20evolutionary%20transitions.Nature374227232" data-title="The%20major%20evolutionary%20transitions." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=The+major+evolutionary+transitions.+Szathm%C3%A1ry+1995" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref2"><span class="order">2.
            </span><a name="pcbi.1002430-Oster1" id="pcbi.1002430-Oster1" class="link-target"></a>Oster GF, Wilson EO (1978) Caste and ecology in the social insects. Princeton: Princeton University Press.   <ul class="find-nolinks"></ul></li><li id="ref3"><span class="order">3.
            </span><a name="pcbi.1002430-Boomsma1" id="pcbi.1002430-Boomsma1" class="link-target"></a>Boomsma JJ (2007) Kin selection versus sexual selection: Why the ends do not meet. Curr Biol  17: R673–R683.  <ul class="reflinks"><li><a href="#" data-author="Boomsma" data-cit="BoomsmaJJ2007Kin%20selection%20versus%20sexual%20selection%3A%20Why%20the%20ends%20do%20not%20meet.Curr%20Biol17R673R683" data-title="Kin%20selection%20versus%20sexual%20selection%3A%20Why%20the%20ends%20do%20not%20meet." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Kin+selection+versus+sexual+selection%3A+Why+the+ends+do+not+meet.+Boomsma+2007" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref4"><span class="order">4.
            </span><a name="pcbi.1002430-Boomsma2" id="pcbi.1002430-Boomsma2" class="link-target"></a>Boomsma JJ, Beekman M, Cornwallis CK, Griffin AS, Holman L, et al.  (2011) Only full-sibling families evolved eusociality. Nature  471: E4–E5.  <ul class="reflinks"><li><a href="#" data-author="Boomsma" data-cit="BoomsmaJJBeekmanMCornwallisCKGriffinASHolmanL2011Only%20full-sibling%20families%20evolved%20eusociality.Nature471E4E5" data-title="Only%20full-sibling%20families%20evolved%20eusociality." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Only+full-sibling+families+evolved+eusociality.+Boomsma+2011" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref5"><span class="order">5.
            </span><a name="pcbi.1002430-Fewell1" id="pcbi.1002430-Fewell1" class="link-target"></a>Fewell JH, Page RE (1999) The emergence of division of labour in forced associations of normally solitary ant queens. Evol Ecol Res  1: 537–548.  <ul class="reflinks"><li><a href="#" data-author="Fewell" data-cit="FewellJHPageRE1999The%20emergence%20of%20division%20of%20labour%20in%20forced%20associations%20of%20normally%20solitary%20ant%20queens.Evol%20Ecol%20Res1537548" data-title="The%20emergence%20of%20division%20of%20labour%20in%20forced%20associations%20of%20normally%20solitary%20ant%20queens." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=The+emergence+of+division+of+labour+in+forced+associations+of+normally+solitary+ant+queens.+Fewell+1999" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref6"><span class="order">6.
            </span><a name="pcbi.1002430-Jeanson1" id="pcbi.1002430-Jeanson1" class="link-target"></a>Jeanson R, Clark RM, Holbrook CT, Bertram SM, Fewell JH, et al.  (2008) Division of labour and socially induced changes in response thresholds in associations of solitary halictine bees. Anim Behav  76: 593–602.  <ul class="reflinks"><li><a href="#" data-author="Jeanson" data-cit="JeansonRClarkRMHolbrookCTBertramSMFewellJH2008Division%20of%20labour%20and%20socially%20induced%20changes%20in%20response%20thresholds%20in%20associations%20of%20solitary%20halictine%20bees.Anim%20Behav76593602" data-title="Division%20of%20labour%20and%20socially%20induced%20changes%20in%20response%20thresholds%20in%20associations%20of%20solitary%20halictine%20bees." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Division+of+labour+and+socially+induced+changes+in+response+thresholds+in+associations+of+solitary+halictine+bees.+Jeanson+2008" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref7"><span class="order">7.
            </span><a name="pcbi.1002430-Duarte1" id="pcbi.1002430-Duarte1" class="link-target"></a>Duarte A, Weissing FJ, Pen I, Keller L (2011) An evolutionary perspective on self-organized division of labor in social insects. Annu Rev Ecol Evol Syst  42: 91–110.  <ul class="reflinks"><li><a href="#" data-author="Duarte" data-cit="DuarteAWeissingFJPenIKellerL2011An%20evolutionary%20perspective%20on%20self-organized%20division%20of%20labor%20in%20social%20insects.Annu%20Rev%20Ecol%20Evol%20Syst4291110" data-title="An%20evolutionary%20perspective%20on%20self-organized%20division%20of%20labor%20in%20social%20insects." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=An+evolutionary+perspective+on+self-organized+division+of+labor+in+social+insects.+Duarte+2011" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref8"><span class="order">8.
            </span><a name="pcbi.1002430-Bonabeau1" id="pcbi.1002430-Bonabeau1" class="link-target"></a>Bonabeau E, Theraulaz G, Deneubourg JL (1996) Quantitative study of the fixed threshold model for the regulation of division of labour in insect societies. Proc R Soc B  263: 1565–1569.  <ul class="reflinks"><li><a href="#" data-author="Bonabeau" data-cit="BonabeauETheraulazGDeneubourgJL1996Quantitative%20study%20of%20the%20fixed%20threshold%20model%20for%20the%20regulation%20of%20division%20of%20labour%20in%20insect%20societies.Proc%20R%20Soc%20B26315651569" data-title="Quantitative%20study%20of%20the%20fixed%20threshold%20model%20for%20the%20regulation%20of%20division%20of%20labour%20in%20insect%20societies." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Quantitative+study+of+the+fixed+threshold+model+for+the+regulation+of+division+of+labour+in+insect+societies.+Bonabeau+1996" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref9"><span class="order">9.
            </span><a name="pcbi.1002430-Theraulaz1" id="pcbi.1002430-Theraulaz1" class="link-target"></a>Theraulaz G, Bonabeau E, Deneubourg JL (1998) Response threshold reinforcement and division of labour in insect societies. Proc R Soc B  265: 327–332.  <ul class="reflinks"><li><a href="#" data-author="Theraulaz" data-cit="TheraulazGBonabeauEDeneubourgJL1998Response%20threshold%20reinforcement%20and%20division%20of%20labour%20in%20insect%20societies.Proc%20R%20Soc%20B265327332" data-title="Response%20threshold%20reinforcement%20and%20division%20of%20labour%20in%20insect%20societies." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Response+threshold+reinforcement+and+division+of+labour+in+insect+societies.+Theraulaz+1998" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref10"><span class="order">10.
            </span><a name="pcbi.1002430-Page1" id="pcbi.1002430-Page1" class="link-target"></a>Page RE, Mitchell SD (1998) Self-organization and the evolution of division of labor. Apidologie  29: 171–190.  <ul class="reflinks"><li><a href="#" data-author="Page" data-cit="PageREMitchellSD1998Self-organization%20and%20the%20evolution%20of%20division%20of%20labor.Apidologie29171190" data-title="Self-organization%20and%20the%20evolution%20of%20division%20of%20labor." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Self-organization+and+the+evolution+of+division+of+labor.+Page+1998" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref11"><span class="order">11.
            </span><a name="pcbi.1002430-Franks1" id="pcbi.1002430-Franks1" class="link-target"></a>Franks NR, Tofts C (1994) Foraging for work - how tasks allocate workers. Anim Behav  48: 470–472.  <ul class="reflinks"><li><a href="#" data-author="Franks" data-cit="FranksNRToftsC1994Foraging%20for%20work%20-%20how%20tasks%20allocate%20workers.Anim%20Behav48470472" data-title="Foraging%20for%20work%20-%20how%20tasks%20allocate%20workers." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Foraging+for+work+-+how+tasks+allocate+workers.+Franks+1994" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref12"><span class="order">12.
            </span><a name="pcbi.1002430-Johnson1" id="pcbi.1002430-Johnson1" class="link-target"></a>Johnson BR (2009) A Self-Organizing Model for Task Allocation via Frequent Task Quitting and Random Walks in the Honeybee. Am Nat  174: 537–547.  <ul class="reflinks"><li><a href="#" data-author="Johnson" data-cit="JohnsonBR2009A%20Self-Organizing%20Model%20for%20Task%20Allocation%20via%20Frequent%20Task%20Quitting%20and%20Random%20Walks%20in%20the%20Honeybee.Am%20Nat174537547" data-title="A%20Self-Organizing%20Model%20for%20Task%20Allocation%20via%20Frequent%20Task%20Quitting%20and%20Random%20Walks%20in%20the%20Honeybee." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=A+Self-Organizing+Model+for+Task+Allocation+via+Frequent+Task+Quitting+and+Random+Walks+in+the+Honeybee.+Johnson+2009" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref13"><span class="order">13.
            </span><a name="pcbi.1002430-Bonabeau2" id="pcbi.1002430-Bonabeau2" class="link-target"></a>Bonabeau E, Theraulaz G, Deneubourg JL, Aron S, Camazine S (1997) Self-organization in social insects. Trends Ecol Evol  12: 188–193.  <ul class="reflinks"><li><a href="#" data-author="Bonabeau" data-cit="BonabeauETheraulazGDeneubourgJLAronSCamazineS1997Self-organization%20in%20social%20insects.Trends%20Ecol%20Evol12188193" data-title="Self-organization%20in%20social%20insects." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Self-organization+in+social+insects.+Bonabeau+1997" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref14"><span class="order">14.
            </span><a name="pcbi.1002430-Tarapore1" id="pcbi.1002430-Tarapore1" class="link-target"></a>Tarapore D, Floreano D, Keller L (2009) Task dependent influence of genetic architecture and mating frequency on division of labour in social insect societies. Behav Ecol Sociobiol  64: 675–684.  <ul class="reflinks"><li><a href="#" data-author="Tarapore" data-cit="TaraporeDFloreanoDKellerL2009Task%20dependent%20influence%20of%20genetic%20architecture%20and%20mating%20frequency%20on%20division%20of%20labour%20in%20social%20insect%20societies.Behav%20Ecol%20Sociobiol64675684" data-title="Task%20dependent%20influence%20of%20genetic%20architecture%20and%20mating%20frequency%20on%20division%20of%20labour%20in%20social%20insect%20societies." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Task+dependent+influence+of+genetic+architecture+and+mating+frequency+on+division+of+labour+in+social+insect+societies.+Tarapore+2009" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref15"><span class="order">15.
            </span><a name="pcbi.1002430-Waibel1" id="pcbi.1002430-Waibel1" class="link-target"></a>Waibel M, Floreano D, Magnenat S, Keller L (2006) Division of labour and colony efficiency in social insects: effects of interactions between genetic architecture, colony kin structure and rate of perturbations. Proc R Soc B  273: 1815–1823.  <ul class="reflinks"><li><a href="#" data-author="Waibel" data-cit="WaibelMFloreanoDMagnenatSKellerL2006Division%20of%20labour%20and%20colony%20efficiency%20in%20social%20insects%3A%20effects%20of%20interactions%20between%20genetic%20architecture%2C%20colony%20kin%20structure%20and%20rate%20of%20perturbations.Proc%20R%20Soc%20B27318151823" data-title="Division%20of%20labour%20and%20colony%20efficiency%20in%20social%20insects%3A%20effects%20of%20interactions%20between%20genetic%20architecture%2C%20colony%20kin%20structure%20and%20rate%20of%20perturbations." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Division+of+labour+and+colony+efficiency+in+social+insects%3A+effects+of+interactions+between+genetic+architecture%2C+colony+kin+structure+and+rate+of+perturbations.+Waibel+2006" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref16"><span class="order">16.
            </span><a name="pcbi.1002430-Tannenbaum1" id="pcbi.1002430-Tannenbaum1" class="link-target"></a>Tannenbaum E (2007) When does division of labor lead to increased system output? J Theor Biol  247: 413–425.  <ul class="reflinks"><li><a href="#" data-author="Tannenbaum" data-cit="TannenbaumE2007When%20does%20division%20of%20labor%20lead%20to%20increased%20system%20output%3FJ%20Theor%20Biol247413425" data-title="When%20does%20division%20of%20labor%20lead%20to%20increased%20system%20output%3F" target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=When+does+division+of+labor+lead+to+increased+system+output%3F+Tannenbaum+2007" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref17"><span class="order">17.
            </span><a name="pcbi.1002430-Wahl1" id="pcbi.1002430-Wahl1" class="link-target"></a>Wahl LM (2002) Evolving the division of labour: Generalists, specialists and task allocation. J Theor Biol  219: 371–388.  <ul class="reflinks"><li><a href="#" data-author="Wahl" data-cit="WahlLM2002Evolving%20the%20division%20of%20labour%3A%20Generalists%2C%20specialists%20and%20task%20allocation.J%20Theor%20Biol219371388" data-title="Evolving%20the%20division%20of%20labour%3A%20Generalists%2C%20specialists%20and%20task%20allocation." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Evolving+the+division+of+labour%3A+Generalists%2C+specialists+and+task+allocation.+Wahl+2002" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref18"><span class="order">18.
            </span><a name="pcbi.1002430-Ghirlanda1" id="pcbi.1002430-Ghirlanda1" class="link-target"></a>Ghirlanda S, Enquist M (1998) Artificial neural networks as models of stimulus control. Anim Behav  56: 1383–1389.  <ul class="reflinks"><li><a href="#" data-author="Ghirlanda" data-cit="GhirlandaSEnquistM1998Artificial%20neural%20networks%20as%20models%20of%20stimulus%20control.Anim%20Behav5613831389" data-title="Artificial%20neural%20networks%20as%20models%20of%20stimulus%20control." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Artificial+neural+networks+as+models+of+stimulus+control.+Ghirlanda+1998" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref19"><span class="order">19.
            </span><a name="pcbi.1002430-Haykin1" id="pcbi.1002430-Haykin1" class="link-target"></a>Haykin S (1999) Neural networks: A comprehensive foundation. Pearson Education, Inc.   <ul class="find-nolinks"></ul></li><li id="ref20"><span class="order">20.
            </span><a name="pcbi.1002430-Floreano1" id="pcbi.1002430-Floreano1" class="link-target"></a>Floreano D, Mitri S, Magnenat S, Keller L (2007) Evolutionary conditions for the emergence of communication in robots. Curr Biol  17: 514–519.  <ul class="reflinks"><li><a href="#" data-author="Floreano" data-cit="FloreanoDMitriSMagnenatSKellerL2007Evolutionary%20conditions%20for%20the%20emergence%20of%20communication%20in%20robots.Curr%20Biol17514519" data-title="Evolutionary%20conditions%20for%20the%20emergence%20of%20communication%20in%20robots." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Evolutionary+conditions+for+the+emergence+of+communication+in+robots.+Floreano+2007" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref21"><span class="order">21.
            </span><a name="pcbi.1002430-Mitri1" id="pcbi.1002430-Mitri1" class="link-target"></a>Mitri S, Floreano D, Keller L (2009) The evolution of information suppression in communicating robots with conflicting interests. Proc Natl Acad Sci U S A  106: 15786–15790.  <ul class="reflinks"><li><a href="#" data-author="Mitri" data-cit="MitriSFloreanoDKellerL2009The%20evolution%20of%20information%20suppression%20in%20communicating%20robots%20with%20conflicting%20interests.Proc%20Natl%20Acad%20Sci%20U%20S%20A1061578615790" data-title="The%20evolution%20of%20information%20suppression%20in%20communicating%20robots%20with%20conflicting%20interests." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=The+evolution+of+information+suppression+in+communicating+robots+with+conflicting+interests.+Mitri+2009" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref22"><span class="order">22.
            </span><a name="pcbi.1002430-Mitri2" id="pcbi.1002430-Mitri2" class="link-target"></a>Mitri S, Floreano D, Keller L (2011) Relatedness influences signal reliability in evolving robots. Proc R Soc B  278: 378–383.  <ul class="reflinks"><li><a href="#" data-author="Mitri" data-cit="MitriSFloreanoDKellerL2011Relatedness%20influences%20signal%20reliability%20in%20evolving%20robots.Proc%20R%20Soc%20B278378383" data-title="Relatedness%20influences%20signal%20reliability%20in%20evolving%20robots." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Relatedness+influences+signal+reliability+in+evolving+robots.+Mitri+2011" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref23"><span class="order">23.
            </span><a name="pcbi.1002430-Lichocki1" id="pcbi.1002430-Lichocki1" class="link-target"></a>Lichocki P, Tarapore D, Keller L, Floreano D (2012) Neural Networks as Mechanisms to Regulate Division of Labor. Am Nat.  (in press). doi:10.1086/664079.  <ul class="reflinks"><li><a href="#" data-author="Lichocki" data-cit="LichockiPTaraporeDKellerLFloreanoD2012Neural%20Networks%20as%20Mechanisms%20to%20Regulate%20Division%20of%20Labor.Am%20Nat%28in%20press%29.%20doi%3A10.1086%2F664079" data-title="Neural%20Networks%20as%20Mechanisms%20to%20Regulate%20Division%20of%20Labor." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Neural+Networks+as+Mechanisms+to+Regulate+Division+of+Labor.+Lichocki+2012" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref24"><span class="order">24.
            </span><a name="pcbi.1002430-Yao1" id="pcbi.1002430-Yao1" class="link-target"></a>Yao X (1999) Evolving artificial neural networks. P Ieee  87: 1423–1447.  <ul class="reflinks"><li><a href="#" data-author="Yao" data-cit="YaoX1999Evolving%20artificial%20neural%20networks.P%20Ieee8714231447" data-title="Evolving%20artificial%20neural%20networks." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Evolving+artificial+neural+networks.+Yao+1999" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref25"><span class="order">25.
            </span><a name="pcbi.1002430-Fogel1" id="pcbi.1002430-Fogel1" class="link-target"></a>Fogel DB, Fogel LJ, Porto VW (1990) Evolving neural networks. Biol Cybern  63: 487–493.  <ul class="reflinks"><li><a href="#" data-author="Fogel" data-cit="FogelDBFogelLJPortoVW1990Evolving%20neural%20networks.Biol%20Cybern63487493" data-title="Evolving%20neural%20networks." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Evolving+neural+networks.+Fogel+1990" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref26"><span class="order">26.
            </span><a name="pcbi.1002430-Ravary1" id="pcbi.1002430-Ravary1" class="link-target"></a>Ravary F, Lecoutey E, Kaminski G, Chaline N, Jaisson P (2007) Individual experience alone can generate lasting division of labor in ants. Curr Biol  17: 1308–1312.  <ul class="reflinks"><li><a href="#" data-author="Ravary" data-cit="RavaryFLecouteyEKaminskiGChalineNJaissonP2007Individual%20experience%20alone%20can%20generate%20lasting%20division%20of%20labor%20in%20ants.Curr%20Biol1713081312" data-title="Individual%20experience%20alone%20can%20generate%20lasting%20division%20of%20labor%20in%20ants." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Individual+experience+alone+can+generate+lasting+division+of+labor+in+ants.+Ravary+2007" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref27"><span class="order">27.
            </span><a name="pcbi.1002430-Smith1" id="pcbi.1002430-Smith1" class="link-target"></a>Smith A (1776) An inquiry into the nature and causes of the wealth of nations. London: W. Strahan and T. Cadell.   <ul class="find-nolinks"></ul></li><li id="ref28"><span class="order">28.
            </span><a name="pcbi.1002430-Geritz1" id="pcbi.1002430-Geritz1" class="link-target"></a>Geritz SAH, Kisdi E, Meszena G, Metz JAJ (1998) Evolutionarily singular strategies and the adaptive growth and branching of the evolutionary tree. Evol Ecol  12: 35–57.  <ul class="reflinks"><li><a href="#" data-author="Geritz" data-cit="GeritzSAHKisdiEMeszenaGMetzJAJ1998Evolutionarily%20singular%20strategies%20and%20the%20adaptive%20growth%20and%20branching%20of%20the%20evolutionary%20tree.Evol%20Ecol123557" data-title="Evolutionarily%20singular%20strategies%20and%20the%20adaptive%20growth%20and%20branching%20of%20the%20evolutionary%20tree." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Evolutionarily+singular+strategies+and+the+adaptive+growth+and+branching+of+the+evolutionary+tree.+Geritz+1998" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref29"><span class="order">29.
            </span><a name="pcbi.1002430-Gautrais1" id="pcbi.1002430-Gautrais1" class="link-target"></a>Gautrais J, Theraulaz G, Deneubourg JL, Anderson C (2002) Emergent polyethism as a consequence of increased colony size in insect societies. J Theor Biol  215: 363–373.  <ul class="reflinks"><li><a href="#" data-author="Gautrais" data-cit="GautraisJTheraulazGDeneubourgJLAndersonC2002Emergent%20polyethism%20as%20a%20consequence%20of%20increased%20colony%20size%20in%20insect%20societies.J%20Theor%20Biol215363373" data-title="Emergent%20polyethism%20as%20a%20consequence%20of%20increased%20colony%20size%20in%20insect%20societies." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Emergent+polyethism+as+a+consequence+of+increased+colony+size+in+insect+societies.+Gautrais+2002" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref30"><span class="order">30.
            </span><a name="pcbi.1002430-Otto1" id="pcbi.1002430-Otto1" class="link-target"></a>Otto SP, Michalakis Y (1998) The evolution of recombination in changing environments. Trends Ecol Evol  13: 145–151.  <ul class="reflinks"><li><a href="#" data-author="Otto" data-cit="OttoSPMichalakisY1998The%20evolution%20of%20recombination%20in%20changing%20environments.Trends%20Ecol%20Evol13145151doi%3A10.1016%2FS0169-5347%2897%2901260-3" data-title="The%20evolution%20of%20recombination%20in%20changing%20environments." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=The+evolution+of+recombination+in+changing+environments.+Otto+1998" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref31"><span class="order">31.
            </span><a name="pcbi.1002430-Feldman1" id="pcbi.1002430-Feldman1" class="link-target"></a>Feldman MW, Otto SP, Christiansen FB (1996) Population genetic perspectives on the evolution of recombination. Annu Rev Gen  30: 261–295.  <ul class="reflinks"><li><a href="#" data-author="Feldman" data-cit="FeldmanMWOttoSPChristiansenFB1996Population%20genetic%20perspectives%20on%20the%20evolution%20of%20recombination.Annu%20Rev%20Gen30261295" data-title="Population%20genetic%20perspectives%20on%20the%20evolution%20of%20recombination." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Population+genetic+perspectives+on+the+evolution+of+recombination.+Feldman+1996" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref32"><span class="order">32.
            </span><a name="pcbi.1002430-Wilfert1" id="pcbi.1002430-Wilfert1" class="link-target"></a>Wilfert L, Gadau J, Schmid-Hempel P (2007) Variation in genomic recombination rates among animal taxa and the case of social insects. Heredity  98: 189–197.  <ul class="reflinks"><li><a href="#" data-author="Wilfert" data-cit="WilfertLGadauJSchmid-HempelP2007Variation%20in%20genomic%20recombination%20rates%20among%20animal%20taxa%20and%20the%20case%20of%20social%20insects.Heredity98189197" data-title="Variation%20in%20genomic%20recombination%20rates%20among%20animal%20taxa%20and%20the%20case%20of%20social%20insects." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Variation+in+genomic+recombination+rates+among+animal+taxa+and+the+case+of+social+insects.+Wilfert+2007" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref33"><span class="order">33.
            </span><a name="pcbi.1002430-Palmer1" id="pcbi.1002430-Palmer1" class="link-target"></a>Palmer KA, Oldroyd BP (2000) Evolution of multiple mating in the genus. Apis Apidologie  31: 235–248.  <ul class="reflinks"><li><a href="#" data-author="Palmer" data-cit="PalmerKAOldroydBP2000Evolution%20of%20multiple%20mating%20in%20the%20genus.Apis%20Apidologie31235248" data-title="Evolution%20of%20multiple%20mating%20in%20the%20genus." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Evolution+of+multiple+mating+in+the+genus.+Palmer+2000" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref34"><span class="order">34.
            </span><a name="pcbi.1002430-Dornhaus1" id="pcbi.1002430-Dornhaus1" class="link-target"></a>Dornhaus A, Holley JA, Pook VG, Worswick G, Franks NR (2008) Why do not all workers work? Colony size and workload during emigrations in the ant Temnothorax albipennis. Behav Ecol Sociobiol  63: 43–51.  <ul class="reflinks"><li><a href="#" data-author="Dornhaus" data-cit="DornhausAHolleyJAPookVGWorswickGFranksNR2008Why%20do%20not%20all%20workers%20work%3F%20Colony%20size%20and%20workload%20during%20emigrations%20in%20the%20ant%20Temnothorax%20albipennis.Behav%20Ecol%20Sociobiol634351" data-title="Why%20do%20not%20all%20workers%20work%3F%20Colony%20size%20and%20workload%20during%20emigrations%20in%20the%20ant%20Temnothorax%20albipennis." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Why+do+not+all+workers+work%3F+Colony+size+and+workload+during+emigrations+in+the+ant+Temnothorax+albipennis.+Dornhaus+2008" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref35"><span class="order">35.
            </span><a name="pcbi.1002430-Thomas1" id="pcbi.1002430-Thomas1" class="link-target"></a>Thomas ML, Elgar MA (2003) Colony size affects division of labour in the ponerine ant. Rhytidoponera metallica Naturwissenschaften  90: 88–92.  <ul class="reflinks"><li><a href="#" data-author="Thomas" data-cit="ThomasMLElgarMA2003Colony%20size%20affects%20division%20of%20labour%20in%20the%20ponerine%20ant.Rhytidoponera%20metallica%20Naturwissenschaften908892" data-title="Colony%20size%20affects%20division%20of%20labour%20in%20the%20ponerine%20ant." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Colony+size+affects+division+of+labour+in+the+ponerine+ant.+Thomas+2003" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref36"><span class="order">36.
            </span><a name="pcbi.1002430-SchmidHempel1" id="pcbi.1002430-SchmidHempel1" class="link-target"></a>Schmid-Hempel P (1990) Reproductive competition and the evolution of work load in social insects. Am Nat  135: 501–526.  <ul class="reflinks"><li><a href="#" data-author="Schmid-Hempel" data-cit="Schmid-HempelP1990Reproductive%20competition%20and%20the%20evolution%20of%20work%20load%20in%20social%20insects.Am%20Nat135501526" data-title="Reproductive%20competition%20and%20the%20evolution%20of%20work%20load%20in%20social%20insects." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Reproductive+competition+and+the+evolution+of+work+load+in+social+insects.+Schmid-Hempel+1990" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref37"><span class="order">37.
            </span><a name="pcbi.1002430-Gavrilets1" id="pcbi.1002430-Gavrilets1" class="link-target"></a>Gavrilets S (2010) Rapid transition towards the division of labor via evolution of developmental plasticity. PLoS Comp Biol  6: e1000805.  <ul class="reflinks"><li><a href="#" data-author="Gavrilets" data-cit="GavriletsS2010Rapid%20transition%20towards%20the%20division%20of%20labor%20via%20evolution%20of%20developmental%20plasticity.PLoS%20Comp%20Biol6e1000805" data-title="Rapid%20transition%20towards%20the%20division%20of%20labor%20via%20evolution%20of%20developmental%20plasticity." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Rapid+transition+towards+the+division+of+labor+via+evolution+of+developmental+plasticity.+Gavrilets+2010" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref38"><span class="order">38.
            </span><a name="pcbi.1002430-Pfeiffer1" id="pcbi.1002430-Pfeiffer1" class="link-target"></a>Pfeiffer T, Bonhoeffer S (2003) An evolutionary scenario for the transition to undifferentiated multicellularity. Proc Natl Acad Sci U S A  100: 1095–1098.  <ul class="reflinks"><li><a href="#" data-author="Pfeiffer" data-cit="PfeifferTBonhoefferS2003An%20evolutionary%20scenario%20for%20the%20transition%20to%20undifferentiated%20multicellularity.Proc%20Natl%20Acad%20Sci%20U%20S%20A10010951098" data-title="An%20evolutionary%20scenario%20for%20the%20transition%20to%20undifferentiated%20multicellularity." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=An+evolutionary+scenario+for+the+transition+to+undifferentiated+multicellularity.+Pfeiffer+2003" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref39"><span class="order">39.
            </span><a name="pcbi.1002430-Michod1" id="pcbi.1002430-Michod1" class="link-target"></a>Michod RE (2007) Evolution of individuality during the transition from unicellular to multicellular life. Proc Natl Acad Sci U S A  104: 8613–8618.  <ul class="reflinks"><li><a href="#" data-author="Michod" data-cit="MichodRE2007Evolution%20of%20individuality%20during%20the%20transition%20from%20unicellular%20to%20multicellular%20life.Proc%20Natl%20Acad%20Sci%20U%20S%20A10486138618" data-title="Evolution%20of%20individuality%20during%20the%20transition%20from%20unicellular%20to%20multicellular%20life." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Evolution+of+individuality+during+the+transition+from+unicellular+to+multicellular+life.+Michod+2007" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref40"><span class="order">40.
            </span><a name="pcbi.1002430-Schlichting1" id="pcbi.1002430-Schlichting1" class="link-target"></a>Schlichting CD (2003) Origins of differentiation via phenotypic plasticity. Evol Dev  5: 98–105.  <ul class="reflinks"><li><a href="#" data-author="Schlichting" data-cit="SchlichtingCD2003Origins%20of%20differentiation%20via%20phenotypic%20plasticity.Evol%20Dev598105" data-title="Origins%20of%20differentiation%20via%20phenotypic%20plasticity." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=Origins+of+differentiation+via+phenotypic+plasticity.+Schlichting+2003" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref41"><span class="order">41.
            </span><a name="pcbi.1002430-Simpson1" id="pcbi.1002430-Simpson1" class="link-target"></a>Simpson C (2012) The evolutionary history of division of labour. P Roy Soc B  279: 116–121.  <ul class="reflinks"><li><a href="#" data-author="Simpson" data-cit="SimpsonC2012The%20evolutionary%20history%20of%20division%20of%20labour.P%20Roy%20Soc%20B279116121doi%3A10.1098%2Frspb.2011.0766" data-title="The%20evolutionary%20history%20of%20division%20of%20labour." target="_new" title="Go to article in CrossRef">
                      View Article
                    </a></li><li><a href="http://scholar.google.com/scholar?q=The+evolutionary+history+of+division+of+labour.+Simpson+2012" target="_new" title="Go to article in Google Scholar">
                      Google Scholar
                    </a></li></ul></li><li id="ref42"><span class="order">42.
            </span><a name="pcbi.1002430-Oster2" id="pcbi.1002430-Oster2" class="link-target"></a>Oster GF, Wilson EO (1978) Caste and ecology in the social insects. Princeton: Princeton University Press.   <ul class="find-nolinks"></ul></li></ol></div>

