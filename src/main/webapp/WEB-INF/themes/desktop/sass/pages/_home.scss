// HOME CONTENT - home-content

$block-height: rem-calc(250);
$block-height-small: rem-calc(180);

$image-width: rem-calc(70);
$hero-height: rem-calc(380);
$image-container: ($image-width + $pad-small);


.row {
  &.one, &.two {
    .block {
      margin-right: 2%; // this is for demo
      &:last-child {
        margin-right: 0;
      }
    }
  }
}

.row {
  @include grid-row()
}

//home page blocks

.hero {
  position: relative;
  padding: 0;
  margin-bottom: rem-calc(20);
  background: transparent;
  // overlay colors
  &.overlay-dark > a:before {
    @extend .overlay;
    @include filter-gradient(#00ffff, #a80000, vertical); // IE6-8
    $experimental-support-for-svg: true;
    @include background-image(linear-gradient(top, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0) 45%, rgba(250, 250, 250, 0) 46%, rgba(231, 231, 231, 0.06) 50%, rgba(203, 203, 203, 0.17) 56%, rgba(134, 134, 134, 0.54) 71%, rgba(102, 102, 102, 0.65) 78%, rgba(0, 0, 0, 0.66) 100%));
  }
  &.overlay-light > a:before {
    @extend .overlay;
    @include filter-gradient(#00ffff, #a8ffff, vertical); // IE6-8
    $experimental-support-for-svg: true;
    @include background-image(linear-gradient(top, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0) 46%, rgba(255, 255, 255, 0.06) 50%, rgba(255, 255, 255, 0.17) 56%, rgba(255, 255, 255, 0.54) 71%, rgba(255, 255, 255, 0.65) 78%, rgba(255, 255, 255, 0.66) 100%));
  }
  img {
    @include single-box-shadow();
    @include border-top-radius();
    width: 100%;
  }
  // hero colors: default is white text
  color: $white;
  a {
    color: $white;
  }
  &.dark-text,
  &.dark-text a {
    color: $clr-body-text;
  }

  // hero text
  .hero-content {
    position: absolute;
    width: 100%;
    bottom: 0;
    padding: $pad-small;
    font-size: rem-calc($txt-size-medium-large);
    h4 {
      @extend h1;
      @extend .no-margin;
    }
    p {
      @extend .no-margin;
    }
  }
}

#billboard {
  @include grid-row;
  @include blocks($grey-dark);
  h3, h4, a {
    color: $white !important;
  }
  position: relative;
  a {
    @include rounded-pill();
    position: absolute;
    width: 80px;
    height: 36px;
    right: 20px;
    top: 10px;
  }
}

//sizes:
.row > .block { // to do this needs to get fixed in the grid refactor

  &.x-small {
    @include grid-column(2, $collapse: false);

  }
  &.small {
    @include grid-column(4, $collapse: false);
  }
  &.medium {
    @include grid-column(6, $collapse: false);
    width: 48%; // for demo
  }
  &.large {
    @include grid-column(7, $collapse: false);
  }

}

.block {
  position: relative;
  height: $block-height;

  @include blocks;

  .block-image {
    width: $image-container;
    display: block;
    position: absolute;
    left: $pad-small;
    top: $pad-small;
  }
  &.image .block-content {
    margin-left: ($image-container + $pad-default);
  }
  // components
  .date {
    @extend .small-italic;
  }
  .credits {
    @extend .small-italic;
    position: absolute;
    bottom: $pad-small;
    left: ($image-container + $pad-default);
    margin: 0;

  }
  .category {
    @extend .highlighted-title;
  }
  .title {
    @extend h2;
    a {
      color: $clr-body-text;
      &:hover {
        text-decoration: underline;
      }
    }

  }
  .blurb {
    //TODO: remove when you neaten up font sizes.
  }

  .block-content {
    position: relative;
    font-size: rem-calc($txt-size-default);
  }

  &.small {
    .title {
      @extend h4;
      @extend .subheader;
      font-family: albert-bold;
    }
  }

}

.column {
  &.left {
    @include grid-column(8, $collapse: false);
    .row-small-blocks {
      @include block-grid(2);
      // for demo
      .block {
        &:nth-child(1), &:nth-child(3) {
          margin-right: 2%;
          width: 46%;
        }
      }

    }
    /// row three is shorter than the others
    .block {
      height: $block-height-small;

      .block-image {
        height: ($block-height-small - ($pad-default));
        overflow: hidden;
      }

      &.small {
        @include grid-column(6, $collapse: false);
      }
    }
  }

  &.right {
    @include grid-column(4, $collapse: true);
  }
}

#spotlight {
  @include blocks();
  height: $block-height;

}

#billboard {
  @include grid-row;
  @include blocks($grey-dark);
  h3, h4, a {
    color: $white !important;
  }
  position: relative;
  a {
    @include rounded-pill();
    position: absolute;
    width: 80px;
    height: 36px;
    right: $pad-default;
    top: $pad-small;
  }
}

#article-list {
  height: $block-height;
  @include blocks;
  @include grid-column(4);

  position: relative;
  width: 30%; // TODO: fix grid
  margin-right: 3%; // TODO: fix grid

  h3 {
    @extend .highlighted-title;
  }

  ul.list-plain {
    @extend .no-bullet; // from foundation
    line-height: normal;

    li {
      color: $clr-body-text;
      margin-bottom: 15px;

      a {
        @include link-text();
        display: block;
        font-family: $font-face-fancy;
        font-size: $txt-size-xsmall;
      }
    }
  }
  .truncated-tooltip {
    @extend .has-tip; //foundation
  }
}
  .more-link {
    position: absolute;
    bottom: $pad-small;
    left: $pad-small;
    right: auto;
    > a {
      @include link-text();
      @extend .header-allcaps-plain;
    }
    &:after {
      @extend .more-icon;
    }

  }

//Tooltips are added to the bottom of the page & hidden. This class should not be nested.
.tooltip {
  width: 300px !important;
  @include single-box-shadow();
  border: 1px solid $grey-med-light;
}

#issue {
  @include grid-column(2);
  @include blocks;
  height: $block-height;
  .current-img {
    width: rem-calc(160);
  }
  .boxtitle {
    margin-top: rem-calc(5);
    a {
      @include link-text();
      @extend .header-allcaps-xlarge;
      @extend .condense;
      display: block;
      margin-bottom: rem-calc(-5);
      font-weight: 900;
    }
    .subhead {
      font-face: $font-face-plain;
      font-size: $txt-size-medium-large;
    }
  }
}

.linkbox {
  @extend .block-card;
  height: rem-calc(410); // PG-we have to set this height to be standard so that we know how tall to make the twitter feed.
  ul {
    @extend .no-bullet; // from foundation
    li {
      padding: $pad-default $pad-medium;
      border-top: 1px solid $grey-light;
      @extend .link-text-body;
      a {
        font-family: $font-face-fancy;
        font-size: rem-calc($txt-size-medium-large);

      }
    }
  }
}
#submission-links {
  @include blocks;
  @include border-top-radius();
  background: $grey-dark;
  padding: $pad-small $pad-medium;

  h3 {
    @extend .header-bottom-shadow;
    @extend .header-xlarge-light;
  }
  .split-container {
    @extend .inline-list;
    margin-left: 0;
  }
  .split-item {
    margin: 0 !important;
    width: 127px;
    height: 40px;
    text-align: center;
    &:first-child {
      border-right: 1px solid $grey-med;
    }
    a {
      @include link-text($color: #89a0d0, $decoration: underline);
      font-size: $txt-size-medium-large;
      font-family: $font-face-fancy;
    }
  }
}

#social-links {

  @include blocks;
  background: #04417d;
  border-radius: $border-radius-default;
  padding: $pad-xsmall;

  h3 {
    @extend .header-xlarge-light;
    text-indent: rem-calc(10);
    margin-bottom: $pad-small;
  }
  ul {
    @extend .inline-list;
    margin-bottom: 0;
    margin-left: rem-calc(-4);
    > li {
      margin-left: 4px;
      margin-bottom: 0;
      > a {
        background: $plos-default;
        border-radius: $border-radius-default;
        display: inline-block;
        height: ($txt-size-xxlarge * 2);
        text-align: center;
        color: $clr-light-text;
        &:hover {
          background: $grey-dark;
        }
      }
      .social {
        width: ($txt-size-xxlarge * 2);
      }
      .aria-text {
        position: absolute;
        top: -9999px;
        left: -9999px;
      }
    }
    .social-blogs {
      width: 102px;
      line-height: ($txt-size-xxlarge * 2);
      font-size: rem-calc($txt-size-medium-large);
      font-family: $font-face-fancy;
    }
  }
}
#blogs {
  height: $block-height;
  @extend .block-card;
  padding:0; // TODO needs to be removed in grid refactor

  .block-header {
    @extend .header-brand;
    @extend .link-text-white;
  }

  #blogrss {
    padding: $pad-default $pad-default 0;
    div {
      @include clearfix();
      margin-bottom: $pad-small;
    }
    .postimg {
      float: left;
      height: 75px;
      width: 35px;
      margin-right: $pad-small;
    }
    .postdate {
      margin: 0;
      font-size: $txt-size-xxxsmall;
      font-family: $font-face-plain;
      color: $clr-muted;
      padding: 0;
    }
    .posttitle {
      height: 30px;
      line-height: 15px;
      overflow: hidden;
      margin: $pad-xsmall 0;
      a {
       @extend .link-text-body;
        font-family: $font-face-fancy;
        font-size: $txt-size-small;
      }
    }
    .postauthor {
      @extend .small-italic;
      color: $clr-muted;
      margin: 0;
      padding: 0;
    }
  }
  .more-link {
    bottom: 30px;
    left: 86px;
  }
}

#ad-slot-bottom{
  @include grid-row;
    .ad-item{

      @include grid-column(4);
      iframe{  @extend .block;}

    }
}
